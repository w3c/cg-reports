<!DOCTYPE html><html lang="en"><head>
<meta content="width=device-width" name="viewport">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="generator" content="ReSpec 35.1.1">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-color:var(--warning-border,#f11);border-width:.2em;border-style:solid;background:#fbe9e9;background:var(--warning-bg,#fbe9e9);color:#000;color:var(--text,#000)}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
pre.idl{padding:1em;position:relative}
pre.idl>code{color:#000;color:var(--text,#000)}
@media print{
pre.idl{white-space:pre-wrap}
}
.idlHeader{display:block;width:150px;background:#8ccbf2;background:var(--def-border,#8ccbf2);color:#fff;color:var(--defrow-border,#fff);font-family:sans-serif;font-weight:700;margin:-1em 0 1em -1em;height:28px;line-height:28px}
.idlHeader a.self-link{margin-left:.3cm;text-decoration:none;border-bottom:none;color:inherit}
.idlID{font-weight:700;color:#005a9c}
.idlType{color:#005a9c}
.idlName{color:#ff4500}
.idlName a{color:#ff4500;border-bottom:1px dotted #ff4500;text-decoration:none}
a.idlEnumItem{color:#000;border-bottom:1px dotted #ccc;text-decoration:none}
.idlSuperclass{font-style:italic;color:#005a9c}
.idlDefaultValue,.idlParamName{font-style:italic}
.extAttr{color:#666}
.idlSectionComment{color:gray}
.idlIncludes a{font-weight:700}
.respec-button-copy-paste:focus{text-decoration:none;border-color:#51a7e8;outline:0;box-shadow:0 0 5px rgba(81,167,232,.5)}
.respec-button-copy-paste:is(:focus:hover,.selected:focus){border-color:#51a7e8}
.respec-button-copy-paste:is(:hover,:active,.zeroclipboard-is-hover,.zeroclipboard-is-active){text-decoration:none;background-color:#ddd;background-image:linear-gradient(#eee,#ddd);border-color:#ccc}
.respec-button-copy-paste:is(:active,.selected,.zeroclipboard-is-active){background-color:#dcdcdc;background-image:none;border-color:#b5b5b5;box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}
.respec-button-copy-paste.selected:hover{background-color:#cfcfcf}
.respec-button-copy-paste:is(:disabled,:disabled:hover,.disabled,.disabled:hover){color:rgba(102,102,102,.5);cursor:default;background-color:rgba(229,229,229,.5);background-image:none;border-color:rgba(197,197,197,.5);box-shadow:none}
@media print{
.respec-button-copy-paste{visibility:hidden}
}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
	
<title>Touch Events - Level 2</title>
	
	

	
	
	
	
<style>

      .event {
        font-family: monospace;
        color: #459900;
      }

      pre.idl {
        white-space: pre-wrap;
      }
      .simple th[scope=row] a { color: inherit;}
	
</style>

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<meta name="color-scheme" content="light">
<meta name="description" content="The Touch Events specification defines a set of low-level events that represent one or more points of contact with a touch-sensitive surface, and changes of those points with respect to the surface and any DOM elements displayed upon it (e.g. for touch screens) or associated with it (e.g. for drawing tablets without displays). It also addresses pen-tablet devices, such as drawing tablets, with consideration toward stylus capabilities.">
<link rel="canonical" href="https://www.w3.org/community/reports/touchevents/touch-events/">
<style>
.hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
@media (prefers-color-scheme:dark){
.hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
}
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
.hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
.hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "CG-FINAL",
  "shortName": "touch-events",
  "publishDate": "2024-07-04",
  "previousPublishDate": "2013-10-10",
  "previousMaturity": "REC",
  "edDraftURI": "https://w3c.github.io/touch-events/",
  "license": "w3c-software-doc",
  "latestVersion": "https://www.w3.org/community/reports/touchevents/CG-FINAL-touch-events-20240704/",
  "editors": [
    {
      "name": "Doug Schepers",
      "url": "http://schepers.cc/",
      "company": "W3C",
      "companyURL": "https://w3.org/"
    },
    {
      "name": "Sangwhan Moon",
      "company": "Opera Software ASA",
      "companyURL": "https://www.opera.com/"
    },
    {
      "name": "Matt Brubeck",
      "url": "https://limpet.net/mbrubeck/",
      "company": "Mozilla",
      "companyURL": "https://www.mozilla.org/"
    },
    {
      "name": "Arthur Barstow",
      "company": "Invited Expert",
      "companyURL": "https://twitter.com/afbarstow"
    },
    {
      "name": "Rick Byers",
      "url": "https://rbyers.net/",
      "company": "Google",
      "companyURL": "https://www.google.com/"
    },
    {
      "name": "Patrick H. Lauke",
      "company": "TetraLogical",
      "companyURL": "https://tetralogical.com/"
    }
  ],
  "otherLinks": [
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on Github.",
          "href": "https://github.com/w3c/touch-events"
        },
        {
          "value": "File a bug.",
          "href": "https://github.com/w3c/touch-events/issues"
        },
        {
          "value": "Commit history.",
          "href": "https://github.com/w3c/touch-events/commits/gh-pages"
        },
        {
          "value": "Mailing list.",
          "href": "https://lists.w3.org/Archives/Public/public-touchevents/"
        }
      ]
    }
  ],
  "group": "touchevents",
  "xref": [
    "html",
    "dom",
    "infra",
    "uievents"
  ],
  "publishISODate": "2024-07-04T00:00:00.000Z",
  "generatedSubtitle": "Final Community Group Report 04 July 2024"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/cg-final"></head>
<body class="h-entry" data-cite="WEBIDL html dom infra uievents"><div class="head">
    
    <h1 id="title" class="title">Touch Events - Level 2</h1> 
    <p id="w3c-state">
      <a href="https://www.w3.org/standards/types#reports">Final Community Group Report</a>
      <time class="dt-published" datetime="2024-07-04">04 July 2024</time>
    </p>
    <dl>
      <dt>This version:</dt><dd>
              <a class="u-url" href="https://www.w3.org/community/reports/touchevents/CG-FINAL-touch-events-20240704/">https://www.w3.org/community/reports/touchevents/CG-FINAL-touch-events-20240704/</a>
            </dd>
      <dt>Latest published version:</dt><dd>
              <a href="https://www.w3.org/community/reports/touchevents/CG-FINAL-touch-events-20240704/">https://www.w3.org/community/reports/touchevents/CG-FINAL-touch-events-20240704/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/touch-events/">https://w3c.github.io/touch-events/</a></dd>
      
      
      
      
      <dt>Editors:</dt><dd class="editor p-author h-card vcard">
    <a class="u-url url p-name fn" href="http://schepers.cc/">Doug Schepers</a> (<a class="p-org org h-org" href="https://w3.org/">W3C</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Sangwhan Moon</span> (<a class="p-org org h-org" href="https://www.opera.com/">Opera Software ASA</a>)
  </dd><dd class="editor p-author h-card vcard">
    <a class="u-url url p-name fn" href="https://limpet.net/mbrubeck/">Matt Brubeck</a> (<a class="p-org org h-org" href="https://www.mozilla.org/">Mozilla</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Arthur Barstow</span> (<a class="p-org org h-org" href="https://twitter.com/afbarstow">Invited Expert</a>)
  </dd><dd class="editor p-author h-card vcard">
    <a class="u-url url p-name fn" href="https://rbyers.net/">Rick Byers</a> (<a class="p-org org h-org" href="https://www.google.com/">Google</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Patrick H. Lauke</span> (<a class="p-org org h-org" href="https://tetralogical.com/">TetraLogical</a>)
  </dd>
      
      
      
      <dt>Repository</dt><dd>
    <a href="https://github.com/w3c/touch-events">We are on Github.</a>
  </dd><dd>
    <a href="https://github.com/w3c/touch-events/issues">File a bug.</a>
  </dd><dd>
    <a href="https://github.com/w3c/touch-events/commits/gh-pages">Commit history.</a>
  </dd><dd>
    <a href="https://lists.w3.org/Archives/Public/public-touchevents/">Mailing list.</a>
  </dd>
    </dl>
    
    <p class="copyright">
          <a href="https://www.w3.org/policies/#copyright">Copyright</a>
          ©
          2024
          
          the Contributors to the Touch Events - Level 2
          Specification, published by the
          <a href="https://www.w3.org/groups/cg/touchevents">Touch Events Community Group</a> under the
          <a href="https://www.w3.org/community/about/agreements/fsa/">W3C Community Final Specification Agreement (FSA)</a>. A human-readable
                <a href="https://www.w3.org/community/about/agreements/fsa-deed/">summary</a>
                is available.
              
        </p>
    <hr title="Separator for header">
  </div>
	<section id="sotd" class="introductory"><h2>Status of This Document</h2><p>
      This specification was published by the
      <a href="https://www.w3.org/groups/cg/touchevents">Touch Events Community Group</a>. It is not a W3C Standard nor is it
      on the W3C Standards Track.
      
            Please note that under the
            <a href="https://www.w3.org/community/about/agreements/final/">W3C Community Final Specification Agreement (FSA)</a>
            other conditions apply.
          
      Learn more about
      <a href="https://www.w3.org/community/">W3C Community and Business Groups</a>.
    </p>
    <p>This specification was published by the <a href="https://www.w3.org/community/touchevents/">Touch Events Community Group</a>. It is not a W3C Standard nor is it on the W3C Standards Track.</p>
    <p>Please note that under the <a href="https://www.w3.org/community/about/process/final/">W3C Community Final Specification Agreement (FSA)</a> other conditions apply.</p>
		<p>This version of the specification includes fixes and improvements to <a href="https://www.w3.org/TR/touch-events/">Touch Events Level 1</a>, and incorporates the features previously published as <a href="https://www.w3.org/TR/touch-events-extensions/">Touch Event Extensions</a>.</p>
    <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div><p class="">There is currently no intention to carry on further work on Touch Events. This document has been maintained to reflect additions and changes made in user agents since the release of the original <a href="https://www.w3.org/TR/touch-events/">Touch Events Level 1</a> specification. The Community Group considers Touch Events a legacy API – authors are strongly encouraged to adopt <a href="https://www.w3.org/TR/pointerevents/">Pointer Events</a> instead.</p></div>
	</section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#webidl-conform"><bdi class="secno">2.1 </bdi>WebIDL Conformance</a></li></ol></li><li class="tocline"><a class="tocxref" href="#touch-interface"><bdi class="secno">3. </bdi><span data-export="" data-dfn-type="interface" data-idl="interface" data-title="Touch" data-dfn-for=""><code>Touch</code></span> Interface</a></li><li class="tocline"><a class="tocxref" href="#touchlist-interface"><bdi class="secno">4. </bdi><span data-export="" data-dfn-type="interface" data-idl="interface" data-title="TouchList" data-dfn-for=""><code>TouchList</code></span> Interface</a></li><li class="tocline"><a class="tocxref" href="#touchevent-interface"><bdi class="secno">5. </bdi><span data-export="" data-dfn-type="interface" data-idl="interface" data-title="TouchEvent" data-dfn-for=""><code>TouchEvent</code></span> Interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#touchevent-implementer-s-note"><bdi class="secno">5.1 </bdi>TouchEvent Implementer's Note</a></li><li class="tocline"><a class="tocxref" href="#usage-examples"><bdi class="secno">5.2 </bdi>Usage Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#touches-and-targettouches-of-a-touchevent"><bdi class="secno">5.2.1 </bdi><code>touches</code> and <code>targetTouches</code> of a <span class="formerLink" data-link-type="idl"><code>TouchEvent</code></span></a></li><li class="tocline"><a class="tocxref" href="#changedtouches-of-a-touchevent"><bdi class="secno">5.2.2 </bdi><code>changedTouches</code> of a <span class="formerLink" data-link-type="idl"><code>TouchEvent</code></span></a></li><li class="tocline"><a class="tocxref" href="#firing-a-synthetic-touchevent-from-script"><bdi class="secno">5.2.3 </bdi>Firing a synthetic <span class="formerLink" data-link-type="idl"><code>TouchEvent</code></span> from script</a></li></ol></li><li class="tocline"><a class="tocxref" href="#list-of-touchevent-types"><bdi class="secno">5.3 </bdi>List of <span class="formerLink" data-link-type="idl"><code>TouchEvent</code></span> types</a></li><li class="tocline"><a class="tocxref" href="#cancelability"><bdi class="secno">5.4 </bdi>Cancelability of touch events</a></li><li class="tocline"><a class="tocxref" href="#event-touchstart"><bdi class="secno">5.5 </bdi>The <span class="event" data-dfn-type="event"><code>touchstart</code></span> event</a></li><li class="tocline"><a class="tocxref" href="#event-touchend"><bdi class="secno">5.6 </bdi>The <span class="event" data-dfn-type="event"><code>touchend</code></span> event</a></li><li class="tocline"><a class="tocxref" href="#event-touchmove"><bdi class="secno">5.7 </bdi>The <span class="event" data-dfn-type="event"><code>touchmove</code></span> event</a></li><li class="tocline"><a class="tocxref" href="#event-touchcancel"><bdi class="secno">5.8 </bdi>The <span class="event" data-dfn-type="event"><code>touchcancel</code></span> event</a></li></ol></li><li class="tocline"><a class="tocxref" href="#retargeting"><bdi class="secno">6. </bdi>Retargeting</a></li><li class="tocline"><a class="tocxref" href="#conditionally-exposing-legacy-touch-event-apis"><bdi class="secno">7. </bdi>Conditionally exposing legacy touch event APIs</a></li><li class="tocline"><a class="tocxref" href="#extensions-to-the-globaleventhandlers-mixin"><bdi class="secno">8. </bdi>Extensions to the <code>GlobalEventHandlers</code> mixin</a></li><li class="tocline"><a class="tocxref" href="#mouse-events"><bdi class="secno">9. </bdi>Interaction with Mouse Events and <code>click</code></a></li><li class="tocline"><a class="tocxref" href="#glossary"><bdi class="secno">10. </bdi>Glossary</a></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">A. </bdi>Acknowledgements</a></li><li class="tocline"><a class="tocxref" href="#changes-since-last-publication"><bdi class="secno">B. </bdi>Changes Since Last Publication</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">C. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">C.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">C.2 </bdi>Informative references</a></li></ol></li></ol></nav>
	<section id="abstract" class="introductory"><h2>Abstract</h2>
		<p>The Touch Events specification defines a set of low-level events that represent one or more points of contact with a touch-sensitive surface, and changes of those points with respect to the surface and any DOM elements displayed upon it (e.g. for touch screens) or associated with it (e.g. for drawing tablets without displays). It also addresses pen-tablet devices, such as drawing tablets, with consideration toward stylus capabilities.</p>
	</section>
	<section class="informative" id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div><p><em>This section is non-normative.</em></p>
		
		<p>User Agents that run on terminals which provide touch input to use web applications typically use interpreted mouse events to allow users to access interactive web applications. However, these interpreted events, being normalized data based on the physical touch input, tend to have limitations on delivering the intended user experience. Additionally, it is not possible to handle concurrent input regardless of device capability, due to constraints of mouse events: both system level limitations and legacy compatibility.</p>
		<p>Meanwhile, native applications are capable of handling both cases with the provided system APIs.</p>
		<p>The Touch Events specification provides a solution to this problem by specifying interfaces to allow web applications to directly handle touch events, and multiple touch points for capable devices.</p>
	</section>
	<section id="conformance"><div class="header-wrapper"><h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 2."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key word <em class="rfc2119">MUST</em> in this document
        is to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
		<p>This specification defines conformance criteria that apply to a single product: the user agent that implements the interfaces that it contains.</p>
		<p>WindowProxy is defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-html5" title="HTML5">HTML5</a></cite>].</p>
		<section id="webidl-conformance"><div class="header-wrapper"><h3 id="webidl-conform"><bdi class="secno">2.1 </bdi>WebIDL Conformance</h3><a class="self-link" href="#webidl-conform" aria-label="Permalink for Section 2.1"></a></div>
		<p>The IDL blocks in this specification are conforming IDL fragments as defined by the WebIDL specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl" title="Web IDL Standard">WEBIDL</a></cite>].</p>
		<p>A conforming user agent must also be a <a href="https://webidl.spec.whatwg.org/#dfn-conforming-javascript-implementation">conforming JavaScript implementation</a> of this IDL fragments in this specification, with the following exception:</p>
		<ul>
			<li>
				<a href="https://www.w3.org/TR/WebIDL/#es-attributes">section 4.4.6 of Web IDL</a> requires that IDL attributes are reflected as accessor properties on interface prototype objects. Instead of this, the user agent may reflect IDL attributes as data properties on the platform objects that implement the relevant interface. These data properties must have the same behavior when getting and setting as would be exhibited when invoking the getter and setter of the accessor properties on the platform object.
			</li>
		</ul>
		<p><strong>Note:</strong> Both ways of reflecting IDL attributes allow for simply getting and setting the property on the platform object to work. For example, given a <code>Touch</code> object <code>aTouch</code>, evaluating <code>aTouch.target</code> would return the <code>EventTarget</code> for the <code>Touch</code> object. If the user agent implements IDL attributes as accessor properties, then the property access invokes the getter which returns the <code>EventTarget</code>. If the user agent implements IDL attributes as data properties on the platform object with the same behavior as would be found with the accessor properties, then the object would appear to have an own property named <code>target</code> whose value is an <code>EventTarget</code> object, and the property access would return this value.</p>
	</section></section>
	<section id="touch-interface"><div class="header-wrapper"><h2 id="x3-touch-interface"><bdi class="secno">3. </bdi><dfn data-export="" data-dfn-type="interface" id="dom-touch" data-idl="interface" data-title="Touch" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>Touch</code></dfn> Interface</h2><a class="self-link" href="#touch-interface" aria-label="Permalink for Section 3."></a></div>
		
		<p>This interface describes an individual <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-1">touch point</a> for a touch event. <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-1"><code>Touch</code></a> objects are immutable; after one is created, its attributes must not change.</p>
<pre class="idl def" id="webidl-552505958"><span class="idlHeader"><a class="self-link" href="#webidl-552505958">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-touchtype" data-title="TouchType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-touchtype" id="ref-for-dom-touchtype-1"><code>TouchType</code></a> {
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-touchtype-direct" id="ref-for-dom-touchtype-direct-1"><code>direct</code></a>"</span>,
    <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-touchtype-stylus" id="ref-for-dom-touchtype-stylus-1"><code>stylus</code></a>"</span>
};</span><span data-idl="" class="idlDictionary" id="idl-def-touchinit" data-title="TouchInit">

dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-touchinit" data-idl="dictionary" data-title="TouchInit" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>TouchInit</code></dfn> {<span data-idl="" class="idlMember" id="idl-def-touchinit-identifier" data-title="identifier" data-dfn-for="TouchInit">
    required<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long">long</a></span>        <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-identifier" data-idl="field" data-title="identifier" data-dfn-for="TouchInit" data-type="long" class="idlName" tabindex="0" aria-haspopup="dialog"><code>identifier</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-target" data-title="target" data-dfn-for="TouchInit">
    required<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-target" data-idl="field" data-title="target" data-dfn-for="TouchInit" data-type="EventTarget" class="idlName" tabindex="0" aria-haspopup="dialog"><code>target</code></dfn>;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-clientx" data-title="clientX" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-clientx" data-idl="field" data-title="clientX" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>clientX</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-clienty" data-title="clientY" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-clienty" data-idl="field" data-title="clientY" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>clientY</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-screenx" data-title="screenX" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-screenx" data-idl="field" data-title="screenX" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>screenX</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-screeny" data-title="screenY" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-screeny" data-idl="field" data-title="screenY" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>screenY</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-pagex" data-title="pageX" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-pagex" data-idl="field" data-title="pageX" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>pageX</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-pagey" data-title="pageY" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-pagey" data-idl="field" data-title="pageY" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>pageY</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-radiusx" data-title="radiusX" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-radiusx" data-idl="field" data-title="radiusX" data-dfn-for="TouchInit" data-type="float" class="idlName" tabindex="0" aria-haspopup="dialog"><code>radiusX</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-radiusy" data-title="radiusY" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-radiusy" data-idl="field" data-title="radiusY" data-dfn-for="TouchInit" data-type="float" class="idlName" tabindex="0" aria-haspopup="dialog"><code>radiusY</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-rotationangle" data-title="rotationAngle" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-rotationangle" data-idl="field" data-title="rotationAngle" data-dfn-for="TouchInit" data-type="float" class="idlName" tabindex="0" aria-haspopup="dialog"><code>rotationAngle</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-force" data-title="force" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-force" data-idl="field" data-title="force" data-dfn-for="TouchInit" data-type="float" class="idlName" tabindex="0" aria-haspopup="dialog"><code>force</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-altitudeangle" data-title="altitudeAngle" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-altitudeangle" data-idl="field" data-title="altitudeAngle" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>altitudeAngle</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-azimuthangle" data-title="azimuthAngle" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-azimuthangle" data-idl="field" data-title="azimuthAngle" data-dfn-for="TouchInit" data-type="double" class="idlName" tabindex="0" aria-haspopup="dialog"><code>azimuthAngle</code></dfn> = 0;</span><span data-idl="" class="idlMember" id="idl-def-touchinit-touchtype" data-title="touchType" data-dfn-for="TouchInit"><span class="idlType">
             <a data-link-type="idl" href="#dom-touchtype" class="internalDFN" id="ref-for-dom-touchtype-2"><code>TouchType</code></a></span>   <dfn data-export="" data-dfn-type="dict-member" id="dom-touchinit-touchtype" data-idl="field" data-title="touchType" data-dfn-for="TouchInit" data-type="TouchType" class="idlName" tabindex="0" aria-haspopup="dialog"><code>touchType</code></dfn> = "direct";</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-touch" data-title="Touch">

[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-touch" id="ref-for-dom-touch-2"><code>Touch</code></a> {<span data-idl="" class="idlConstructor" id="idl-def-touch-constructor-touchinitdict" data-title="constructor" data-dfn-for="Touch">
    <dfn data-export="" data-dfn-type="constructor" id="dom-touch-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="Touch" data-lt="constructor()|constructor(touchInitDict)" data-local-lt="Touch.constructor|Touch.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="idl" href="#dom-touchinit" class="internalDFN" id="ref-for-dom-touchinit-1"><code>TouchInit</code></a></span> <span class="idlParamName">touchInitDict</span>);</span><span data-idl="" class="idlAttribute" id="idl-def-touch-identifier" data-title="identifier" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long">long</a></span>        <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-identifier" id="ref-for-dom-touch-identifier-1"><code>identifier</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-target" data-title="target" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-target" id="ref-for-dom-touch-target-1"><code>target</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-screenx" data-title="screenX" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-screenx" id="ref-for-dom-touch-screenx-1"><code>screenX</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-screeny" data-title="screenY" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-screeny" id="ref-for-dom-touch-screeny-1"><code>screenY</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-clientx" data-title="clientX" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-clientx" id="ref-for-dom-touch-clientx-1"><code>clientX</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-clienty" data-title="clientY" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-clienty" id="ref-for-dom-touch-clienty-1"><code>clientY</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-pagex" data-title="pageX" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-pagex" id="ref-for-dom-touch-pagex-1"><code>pageX</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-pagey" data-title="pageY" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span>      <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-pagey" id="ref-for-dom-touch-pagey-1"><code>pageY</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-radiusx" data-title="radiusX" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-radiusx" id="ref-for-dom-touch-radiusx-1"><code>radiusX</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-radiusy" data-title="radiusY" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-radiusy" id="ref-for-dom-touch-radiusy-1"><code>radiusY</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-rotationangle" data-title="rotationAngle" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-rotationangle" id="ref-for-dom-touch-rotationangle-1"><code>rotationAngle</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-force" data-title="force" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-force" id="ref-for-dom-touch-force-1"><code>force</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-altitudeangle" data-title="altitudeAngle" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-altitudeangle" id="ref-for-dom-touch-altitudeangle-1"><code>altitudeAngle</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-azimuthangle" data-title="azimuthAngle" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-float">float</a></span>       <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-azimuthangle" id="ref-for-dom-touch-azimuthangle-1"><code>azimuthAngle</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touch-touchtype" data-title="touchType" data-dfn-for="Touch">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" href="#dom-touchtype" class="internalDFN" id="ref-for-dom-touchtype-3"><code>TouchType</code></a></span>   <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touch-touchtype" id="ref-for-dom-touch-touchtype-1"><code>touchType</code></a>;</span>
};</span></code></pre>
		<dl data-dfn-for="Touch" data-link-for="Touch">
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-identifier" data-idl="attribute" data-title="identifier" data-dfn-for="Touch" data-type="long" data-lt="identifier" data-local-lt="Touch.identifier" tabindex="0" aria-haspopup="dialog"><code>identifier</code></dfn></dt>
			<dd>
				<p>An identification number for each <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-2">touch point</a>.</p>
				<p>When a touch point becomes active, it must be assigned an <a href="#dom-touch-identifier" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-identifier-2"><code>identifier</code></a> that is distinct from any other <a href="#dfn-active-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-active-touch-point-1">active touch point</a>. While the touch point remains active, all events that refer to it must assign it the same <a href="#dom-touch-identifier" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-identifier-3"><code>identifier</code></a>.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-target" data-idl="attribute" data-title="target" data-dfn-for="Touch" data-type="EventTarget" data-lt="target" data-local-lt="Touch.target" tabindex="0" aria-haspopup="dialog"><code>target</code></dfn></dt>
			<dd>
				<p>The <code>EventTarget</code> on which the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-3">touch point</a> started when it was first placed on the surface, even if the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-4">touch point</a> has since moved outside the interactive area of that element.</p>
				<div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="3"><span>Note</span></div><p class="">Some implementations alter the target element to correct for the imprecision of coarse input. Therefore, the target element may not necessarily be the element directly at the coordinates of the event. The methods used to target/disambiguate coarse input are out of scope for this specification.</p></div>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-screenx" data-idl="attribute" data-title="screenX" data-dfn-for="Touch" data-type="double" data-lt="screenX" data-local-lt="Touch.screenX" tabindex="0" aria-haspopup="dialog"><code>screenX</code></dfn></dt>
			<dd>
				<p>The horizontal coordinate of point relative to the screen in pixels</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-screeny" data-idl="attribute" data-title="screenY" data-dfn-for="Touch" data-type="double" data-lt="screenY" data-local-lt="Touch.screenY" tabindex="0" aria-haspopup="dialog"><code>screenY</code></dfn></dt>
			<dd>
				<p>The vertical coordinate of point relative to the screen in pixels</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-clientx" data-idl="attribute" data-title="clientX" data-dfn-for="Touch" data-type="double" data-lt="clientX" data-local-lt="Touch.clientX" tabindex="0" aria-haspopup="dialog"><code>clientX</code></dfn></dt>
			<dd>
				<p>The horizontal coordinate of point relative to the viewport in pixels, excluding any scroll offset</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-clienty" data-idl="attribute" data-title="clientY" data-dfn-for="Touch" data-type="double" data-lt="clientY" data-local-lt="Touch.clientY" tabindex="0" aria-haspopup="dialog"><code>clientY</code></dfn></dt>
			<dd>
				<p>The vertical coordinate of point relative to the viewport in pixels, excluding any scroll offset</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-pagex" data-idl="attribute" data-title="pageX" data-dfn-for="Touch" data-type="double" data-lt="pageX" data-local-lt="Touch.pageX" tabindex="0" aria-haspopup="dialog"><code>pageX</code></dfn></dt>
			<dd>
				<p>The horizontal coordinate of point relative to the viewport in pixels, including any scroll offset</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-pagey" data-idl="attribute" data-title="pageY" data-dfn-for="Touch" data-type="double" data-lt="pageY" data-local-lt="Touch.pageY" tabindex="0" aria-haspopup="dialog"><code>pageY</code></dfn></dt>
			<dd>
				<p>The vertical coordinate of point relative to the viewport in pixels, including any scroll offset</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-radiusx" data-idl="attribute" data-title="radiusX" data-dfn-for="Touch" data-type="float" data-lt="radiusX" data-local-lt="Touch.radiusX" tabindex="0" aria-haspopup="dialog"><code>radiusX</code></dfn></dt>
			<dd>
				<p>The radius of the ellipse which most closely circumscribes the touching area (e.g. finger, stylus) along the axis indicated by rotationAngle, in CSS pixels (as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-css-values" title="CSS Values and Units Module Level 3">CSS-VALUES</a></cite>]) of the same scale as screenX; <code>0</code> if no value is known. The value must not be negative.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-radiusy" data-idl="attribute" data-title="radiusY" data-dfn-for="Touch" data-type="float" data-lt="radiusY" data-local-lt="Touch.radiusY" tabindex="0" aria-haspopup="dialog"><code>radiusY</code></dfn></dt>
			<dd>
				<p>The radius of the ellipse which most closely circumscribes the touching area (e.g. finger, stylus) along the axis perpendicular to that indicated by rotationAngle, in CSS pixels (as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-css-values" title="CSS Values and Units Module Level 3">CSS-VALUES</a></cite>]) of the same scale as screenY; <code>0</code> if no value is known. The value must not be negative.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-rotationangle" data-idl="attribute" data-title="rotationAngle" data-dfn-for="Touch" data-type="float" data-lt="rotationAngle" data-local-lt="Touch.rotationAngle" tabindex="0" aria-haspopup="dialog"><code>rotationAngle</code></dfn></dt>
			<dd>
				<p>The angle (in degrees) that the ellipse described by radiusX and radiusY is rotated clockwise about its center; <code>0</code> if no value is known. The value must be greater than or equal to <code>0</code> and less than <code>90</code>.</p>
				<p>If the ellipse described by radiusX and radiusY is circular, then rotationAngle has no effect. The user agent may use <code>0</code> as the value in this case, or it may use any other value in the allowed range. (For example, the user agent may use the rotationAngle value from the previous touch event, to avoid sudden changes.)</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-force" data-idl="attribute" data-title="force" data-dfn-for="Touch" data-type="float" data-lt="force" data-local-lt="Touch.force" tabindex="0" aria-haspopup="dialog"><code>force</code></dfn></dt>
			<dd>
				<p>A relative value of pressure applied, in the range <code>0</code> to <code>1</code>, where <code>0</code> is no pressure, and <code>1</code> is the highest level of pressure the touch device is capable of sensing; <code>0</code> if no value is known. In environments where force is known, the absolute pressure represented by the force attribute, and the sensitivity in levels of pressure, may vary.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-altitudeangle" data-idl="attribute" data-title="altitudeAngle" data-dfn-for="Touch" data-type="float" data-lt="altitudeAngle" data-local-lt="Touch.altitudeAngle" tabindex="0" aria-haspopup="dialog"><code>altitudeAngle</code></dfn></dt>
			<dd>
				<p>The altitude (in radians) of the transducer (e.g. pen/stylus), in the range [0,π/2] — where 0 is parallel to the surface (X-Y plane), and π/2 is perpendicular to the surface. For hardware and platforms that do not report tilt or angle, the value <em class="rfc2119">MUST</em> be 0.</p>
				<div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="3"><span>Note</span></div><div class="">
					The default value defined here for <code>altitudeAngle</code> is 0. This differs from the <a href="https://w3c.github.io/pointerevents/">Pointer Events - Level 3</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pointerevents" title="Pointer Events">POINTEREVENTS</a></cite>] specification's definition for the <code>altitudeAngle</code> property, which has a default value of π/2, which positions the transducer as being perpendicular to the surface.
				</div></div>
				<figure id="figure_altitudeAngle">
					<img alt="altitudeAngle explanation diagram" src="images/altitudeAngle.png">
					<figcaption><a class="self-link" href="#figure_altitudeAngle">Figure <bdi class="figno">1</bdi></a> <span class="fig-title">
						Example <code>altitudeAngle</code> of π/4 (45 degrees from the X-Y plane).
					</span></figcaption>
				</figure>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-azimuthangle" data-idl="attribute" data-title="azimuthAngle" data-dfn-for="Touch" data-type="float" data-lt="azimuthAngle" data-local-lt="Touch.azimuthAngle" tabindex="0" aria-haspopup="dialog"><code>azimuthAngle</code></dfn></dt>
			<dd>
				<p>The azimuth angle (in radians) of the transducer (e.g. pen/stylus), in the range [0, 2π] — where 0 represents a transducer whose cap is pointing in the direction of increasing X values (point to "3 o'clock" if looking straight down) on the X-Y plane, and the values progressively increase when going clockwise (π/2 at "6 o'clock", π at "9 o'clock", 3π/2 at "12 o'clock"). When the transducer is perfectly perpendicular to the surface (<code>altitudeAngle</code> of π/2), the value <em class="rfc2119">MUST</em> be 0. For hardware and platforms that do not report tilt or angle, the value <em class="rfc2119">MUST</em> be 0.</p>
				<figure id="figure_azimuthAngle">
					<img alt="azimuthAngle explanation diagram" src="images/azimuthAngle.png">
					<figcaption><a class="self-link" href="#figure_azimuthAngle">Figure <bdi class="figno">2</bdi></a> <span class="fig-title">
						Example <code>azimuthAngle</code> of π/6 ("4 o'clock").
					</span></figcaption>
				</figure>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touch-touchtype" data-idl="attribute" data-title="touchType" data-dfn-for="Touch" data-type="TouchType" data-lt="touchType" data-local-lt="Touch.touchType" tabindex="0" aria-haspopup="dialog"><code>touchType</code></dfn></dt>
			<dd>
				<p>The type of device used to trigger the touch.</p>
			</dd>
		</dl>
		<dl>
			<dt><dfn data-export="" data-dfn-type="enum" id="dom-touchtype" data-idl="enum" data-title="TouchType" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>TouchType</code></dfn></dt>
			<dd>
				<p>An enumeration representing the different types of possible touch input.</p>
			</dd>
		</dl>
		<dl data-dfn-for="TouchType" data-link-for="TouchType">
			<dt><dfn data-export="" data-dfn-type="enum-value" id="dom-touchtype-direct" data-idl="enum-value" data-title="direct" data-dfn-for="TouchType" tabindex="0" aria-haspopup="dialog"><code>direct</code></dfn></dt>
			<dd>
				<p>A direct touch from a finger on the screen.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="enum-value" id="dom-touchtype-stylus" data-idl="enum-value" data-title="stylus" data-dfn-for="TouchType" tabindex="0" aria-haspopup="dialog"><code>stylus</code></dfn></dt>
			<dd>
				<p>A touch from a stylus or pen device.</p>
			</dd>
		</dl>
	</section>
	<section id="touchlist-interface"><div class="header-wrapper"><h2 id="x4-touchlist-interface"><bdi class="secno">4. </bdi><dfn data-export="" data-dfn-type="interface" id="dom-touchlist" data-idl="interface" data-title="TouchList" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>TouchList</code></dfn> Interface</h2><a class="self-link" href="#touchlist-interface" aria-label="Permalink for Section 4."></a></div>
		
		<p>This interface defines a list of individual points of contact for a touch event. <a href="#dom-touchlist" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchlist-1"><code>TouchList</code></a> objects are immutable; after one is created, its contents must not change.</p>
		<p>A <code>TouchList</code> object's <em>supported property indices</em> ([<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl" title="Web IDL Standard">WEBIDL</a></cite>]) are the numbers in the range 0 to one less than the length of the list.</p>
<pre class="idl def" id="webidl-624967195"><span class="idlHeader"><a class="self-link" href="#webidl-624967195">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-touchlist" data-title="TouchList">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-touchlist" id="ref-for-dom-touchlist-2"><code>TouchList</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-touchlist-length" data-title="length" data-dfn-for="TouchList">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchlist-length" id="ref-for-dom-touchlist-length-1"><code>length</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-touchlist-item-index" data-title="item" data-dfn-for="TouchList">
    getter<span class="idlType"> <a data-link-type="idl" href="#dom-touch" class="internalDFN" id="ref-for-dom-touch-3"><code>Touch</code></a>?</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-touchlist-item" id="ref-for-dom-touchlist-item-1"><code>item</code></a> (<span class="idlType"><a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">index</span>);</span>
};</span></code></pre>
		<dl data-dfn-for="TouchList" data-link-for="TouchList">
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchlist-length" data-idl="attribute" data-title="length" data-dfn-for="TouchList" data-type="unsigned long" data-lt="length" data-local-lt="TouchList.length" tabindex="0" aria-haspopup="dialog"><code>length</code></dfn></dt>
			<dd>
				<p>Returns the number of <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-4"><code>Touch</code></a> objects in the list</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="method" id="dom-touchlist-item" data-idl="operation" data-title="item" data-dfn-for="TouchList" data-type="Touch" data-lt="item()|item(index)" data-local-lt="TouchList.item|TouchList.item()|item" tabindex="0" aria-haspopup="dialog"><code>item</code></dfn></dt>
			<dd>
				<p>Returns the <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-5"><code>Touch</code></a> at the specified index in the list or null if the index is not less than the length of the list.</p>
			</dd>
		</dl>
	</section>
	<section id="touchevent-interface"><div class="header-wrapper"><h2 id="x5-touchevent-interface"><bdi class="secno">5. </bdi><dfn data-export="" data-dfn-type="interface" id="dom-touchevent" data-idl="interface" data-title="TouchEvent" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>TouchEvent</code></dfn> Interface</h2><a class="self-link" href="#touchevent-interface" aria-label="Permalink for Section 5."></a></div>
		
		<p>This interface defines the <a href="#dfn-touchstart" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchstart-1"><code><code>touchstart</code></code></a>, <a href="#dfn-touchend" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchend-1"><code><code>touchend</code></code></a>, <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-1"><code><code>touchmove</code></code></a>, and <a href="#dfn-touchcancel" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchcancel-1"><code><code>touchcancel</code></code></a> event types. <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-1"><code>TouchEvent</code></a> objects are immutable; after one is created and initialized, its attributes must not change. <code>TouchEvent</code> inherits from the <code>UIEvent</code> interface defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom-level-3-events" title="UI Events">DOM-LEVEL-3-EVENTS</a></cite>].</p>
		<p>The <dfn data-export="" data-dfn-type="dictionary" id="dom-toucheventinit" data-idl="dictionary" data-title="TouchEventInit" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>TouchEventInit</code></dfn> dictionary is used by the <code>TouchEvent</code> interface's constructor to provide a mechanism by which to construct untrusted (synthetic) touch events. It inherits from the <code>EventModifierInit</code> dictionary defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom-level-3-events" title="UI Events">DOM-LEVEL-3-EVENTS</a></cite>]. The steps for constructing an event are defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom4" title="DOM Standard">DOM4</a></cite>]. See the <a href="#firing-a-synthetic-touchevent-from-script" title="examples">example</a> for sample code demonstrating how to fire an untrusted touch event.</p>
<pre class="idl def" id="webidl-1318316452"><span class="idlHeader"><a class="self-link" href="#webidl-1318316452">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-toucheventinit" data-title="TouchEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-toucheventinit" id="ref-for-dom-toucheventinit-1"><code>TouchEventInit</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="dictionary" href="https://www.w3.org/TR/uievents/#dictdef-eventmodifierinit">EventModifierInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-toucheventinit-touches" data-title="touches" data-dfn-for="TouchEventInit"><span class="idlType">
            <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-touch" class="internalDFN" id="ref-for-dom-touch-6"><code>Touch</code></a>&gt;</span> <dfn data-export="" data-dfn-type="dict-member" id="dom-toucheventinit-touches" data-idl="field" data-title="touches" data-dfn-for="TouchEventInit" data-type="sequence" class="idlName" tabindex="0" aria-haspopup="dialog"><code>touches</code></dfn> = [];</span><span data-idl="" class="idlMember" id="idl-def-toucheventinit-targettouches" data-title="targetTouches" data-dfn-for="TouchEventInit"><span class="idlType">
            <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-touch" class="internalDFN" id="ref-for-dom-touch-7"><code>Touch</code></a>&gt;</span> <dfn data-export="" data-dfn-type="dict-member" id="dom-toucheventinit-targettouches" data-idl="field" data-title="targetTouches" data-dfn-for="TouchEventInit" data-type="sequence" class="idlName" tabindex="0" aria-haspopup="dialog"><code>targetTouches</code></dfn> = [];</span><span data-idl="" class="idlMember" id="idl-def-toucheventinit-changedtouches" data-title="changedTouches" data-dfn-for="TouchEventInit"><span class="idlType">
            <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-touch" class="internalDFN" id="ref-for-dom-touch-8"><code>Touch</code></a>&gt;</span> <dfn data-export="" data-dfn-type="dict-member" id="dom-toucheventinit-changedtouches" data-idl="field" data-title="changedTouches" data-dfn-for="TouchEventInit" data-type="sequence" class="idlName" tabindex="0" aria-haspopup="dialog"><code>changedTouches</code></dfn> = [];</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-touchevent" data-title="TouchEvent">

[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-touchevent" id="ref-for-dom-touchevent-2"><code>TouchEvent</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/uievents/#uievent">UIEvent</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-touchevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="TouchEvent">
    <dfn data-export="" data-dfn-type="constructor" id="dom-touchevent-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="TouchEvent" data-lt="constructor()|constructor(type)|constructor(type, eventInitDict)" data-local-lt="TouchEvent.constructor|TouchEvent.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(<span class="idlType"><a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>, optional<span class="idlType"> <a data-link-type="idl" href="#dom-toucheventinit" class="internalDFN" id="ref-for-dom-toucheventinit-2"><code>TouchEventInit</code></a></span> <span class="idlParamName">eventInitDict</span> = {});</span><span data-idl="" class="idlAttribute" id="idl-def-touchevent-touches" data-title="touches" data-dfn-for="TouchEvent">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" href="#dom-touchlist" class="internalDFN" id="ref-for-dom-touchlist-3"><code>TouchList</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchevent-touches" id="ref-for-dom-touchevent-touches-1"><code>touches</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touchevent-targettouches" data-title="targetTouches" data-dfn-for="TouchEvent">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" href="#dom-touchlist" class="internalDFN" id="ref-for-dom-touchlist-4"><code>TouchList</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchevent-targettouches" id="ref-for-dom-touchevent-targettouches-1"><code>targetTouches</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touchevent-changedtouches" data-title="changedTouches" data-dfn-for="TouchEvent">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" href="#dom-touchlist" class="internalDFN" id="ref-for-dom-touchlist-5"><code>TouchList</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchevent-changedtouches" id="ref-for-dom-touchevent-changedtouches-1"><code>changedTouches</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touchevent-altkey" data-title="altKey" data-dfn-for="TouchEvent">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span>   <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchevent-altkey" id="ref-for-dom-touchevent-altkey-1"><code>altKey</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touchevent-metakey" data-title="metaKey" data-dfn-for="TouchEvent">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span>   <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchevent-metakey" id="ref-for-dom-touchevent-metakey-1"><code>metaKey</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touchevent-ctrlkey" data-title="ctrlKey" data-dfn-for="TouchEvent">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span>   <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchevent-ctrlkey" id="ref-for-dom-touchevent-ctrlkey-1"><code>ctrlKey</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-touchevent-shiftkey" data-title="shiftKey" data-dfn-for="TouchEvent">
    readonly        attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span>   <a class="internalDFN idlName" data-link-type="attribute" href="#dom-touchevent-shiftkey" id="ref-for-dom-touchevent-shiftkey-1"><code>shiftKey</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-touchevent-getmodifierstate-keyarg" data-title="getModifierState" data-dfn-for="TouchEvent">
    getter<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-touchevent-getmodifierstate" id="ref-for-dom-touchevent-getmodifierstate-1"><code>getModifierState</code></a> (<span class="idlType"><a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">keyArg</span>);</span>
};</span></code></pre>
		<dl data-dfn-for="TouchEvent" data-link-for="TouchEvent">
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchevent-touches" data-idl="attribute" data-title="touches" data-dfn-for="TouchEvent" data-type="TouchList" data-lt="touches" data-local-lt="TouchEvent.touches" tabindex="0" aria-haspopup="dialog"><code>touches</code></dfn></dt>
			<dd>
				<p>A list of <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-9"><code>Touch</code></a> objects for every point of contact currently touching the surface.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchevent-targettouches" data-idl="attribute" data-title="targetTouches" data-dfn-for="TouchEvent" data-type="TouchList" data-lt="targetTouches" data-local-lt="TouchEvent.targetTouches" tabindex="0" aria-haspopup="dialog"><code>targetTouches</code></dfn></dt>
			<dd>
				<p>A list of <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-10"><code>Touch</code></a> objects for every point of contact that is touching the surface <em>and</em> started on the element that is the target of the current event.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchevent-changedtouches" data-idl="attribute" data-title="changedTouches" data-dfn-for="TouchEvent" data-type="TouchList" data-lt="changedTouches" data-local-lt="TouchEvent.changedTouches" tabindex="0" aria-haspopup="dialog"><code>changedTouches</code></dfn></dt>
			<dd>
				<p>A list of <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-11"><code>Touch</code></a> objects for every point of contact which contributed to the event.</p>
				<p>For the <a href="#dfn-touchstart" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchstart-2"><code><code>touchstart</code></code></a> event this must be a list of the touch points that just became active with the current event. For the <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-2"><code><code>touchmove</code></code></a> event this must be a list of the touch points that have moved since the last event. For the <a href="#dfn-touchend" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchend-2"><code><code>touchend</code></code></a> and <a href="#dfn-touchcancel" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchcancel-2"><code><code>touchcancel</code></code></a> events this must be a list of the touch points that have just been removed from the surface, with the last known coordinates of the touch points before they were removed.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchevent-altkey" data-idl="attribute" data-title="altKey" data-dfn-for="TouchEvent" data-type="boolean" data-lt="altKey" data-local-lt="TouchEvent.altKey" tabindex="0" aria-haspopup="dialog"><code>altKey</code></dfn></dt>
			<dd>
				<p><code>true</code> if the alt (Alternate) key modifier is activated; otherwise <code>false</code></p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchevent-metakey" data-idl="attribute" data-title="metaKey" data-dfn-for="TouchEvent" data-type="boolean" data-lt="metaKey" data-local-lt="TouchEvent.metaKey" tabindex="0" aria-haspopup="dialog"><code>metaKey</code></dfn></dt>
			<dd>
				<p><code>true</code> if the meta (Meta) key modifier is activated; otherwise <code>false</code>. On some platforms this attribute may map to a differently-named key modifier.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchevent-ctrlkey" data-idl="attribute" data-title="ctrlKey" data-dfn-for="TouchEvent" data-type="boolean" data-lt="ctrlKey" data-local-lt="TouchEvent.ctrlKey" tabindex="0" aria-haspopup="dialog"><code>ctrlKey</code></dfn></dt>
			<dd>
				<p><code>true</code> if the ctrl (Control) key modifier is activated; otherwise <code>false</code></p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-touchevent-shiftkey" data-idl="attribute" data-title="shiftKey" data-dfn-for="TouchEvent" data-type="boolean" data-lt="shiftKey" data-local-lt="TouchEvent.shiftKey" tabindex="0" aria-haspopup="dialog"><code>shiftKey</code></dfn></dt>
			<dd>
				<p><code>true</code> if the shift (Shift) key modifier is activated; otherwise <code>false</code></p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="method" id="dom-touchevent-getmodifierstate" data-idl="operation" data-title="getModifierState" data-dfn-for="TouchEvent" data-type="boolean" data-lt="getModifierState()|getModifierState(keyArg)" data-local-lt="TouchEvent.getModifierState|TouchEvent.getModifierState()|getModifierState" tabindex="0" aria-haspopup="dialog"><code>getModifierState</code></dfn>(keyArg)</dt>
			<dd>
				<p>Queries the state of a modifier using a key value. Returns <code>true</code> if it is a modifier key and the modifier is activated, <code>false</code> otherwise.</p>
			</dd>
		</dl>
		<section class="informative" id="touchevent-implementer-s-note"><div class="header-wrapper"><h3 id="x5-1-touchevent-implementer-s-note"><bdi class="secno">5.1 </bdi>TouchEvent Implementer's Note</h3><a class="self-link" href="#touchevent-implementer-s-note" aria-label="Permalink for Section 5.1"></a></div><p><em>This section is non-normative.</em></p>
			
			<div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div><div class="">
				<p>User agents should ensure that all <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-12"><code>Touch</code></a> objects available from a given <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-3"><code>TouchEvent</code></a> are all associated to the same document that the <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-4"><code>TouchEvent</code></a> was dispatched to. To implement this, user agents should maintain a notion of the current <em>touch-active</em> document. On first touch, this is set to the target document where the touch was created. When all active touch points are released, the <em>touch-active</em> document is cleared. All <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-5"><code>TouchEvent</code></a>s are dispatched to the current <em>touch-active</em> document, and each <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-13"><code>Touch</code></a> object it contains refers only to DOM elements (and co-ordinates) in that document. If a touch starts entirely outside the currently <em>touch-active</em> document, then it is ignored entirely.</p>
			</div></div>
		</section>
		<section class="informative" id="usage-examples"><div class="header-wrapper"><h3 id="x5-2-usage-examples"><bdi class="secno">5.2 </bdi>Usage Examples</h3><a class="self-link" href="#usage-examples" aria-label="Permalink for Section 5.2"></a></div><p><em>This section is non-normative.</em></p>
			
			<p>The examples below demonstrate the relations between the different <a href="#dom-touchlist" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchlist-6"><code>TouchList</code></a> members defined in a <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-6"><code>TouchEvent</code></a>.</p>
			<section id="touches-and-targettouches-of-a-touchevent"><div class="header-wrapper"><h4 id="x5-2-1-touches-and-targettouches-of-a-touchevent"><bdi class="secno">5.2.1 </bdi><code>touches</code> and <code>targetTouches</code> of a <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-7"><code>TouchEvent</code></a></h4><a class="self-link" href="#touches-and-targettouches-of-a-touchevent" aria-label="Permalink for Section 5.2.1"></a></div>
				
				<p>This example demonstrates the utility and relations between the <code>touches</code> and <code>targetTouches</code> members defined in the <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-8"><code>TouchEvent</code></a> interface. The following code will generate different output based on the number of touch points on the touchable element and the document:</p>
<div class="example" id="example-1">
        <div class="marker">
    <a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"touchable"</span>&gt;</span>This element is touchable.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'touchable'</span>).addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ev</span>) </span>{

    <span class="hljs-keyword">if</span> (ev.touches.item(<span class="hljs-number">0</span>) == ev.targetTouches.item(<span class="hljs-number">0</span>))
    {
        <span class="hljs-comment">/**
         * If the first touch on the surface is also targeting the
         * "touchable" element, the code below should execute.
         * Since targetTouches is a subset of touches which covers the
         * entire surface, TouchEvent.touches &gt;= TouchEvents.targetTouches
         * is always true.
         */</span>

        <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'Hello Touch Events!'</span>);
    }

    <span class="hljs-keyword">if</span> (ev.touches.length == ev.targetTouches.length)
    {
        <span class="hljs-comment">/**
         * If all of the active touch points are on the "touchable"
         * element, the length properties should be the same.
         */</span>

        <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'All points are on target element'</span>)
    }

    <span class="hljs-keyword">if</span> (ev.touches.length &gt; <span class="hljs-number">1</span>)
    {
        <span class="hljs-comment">/**
         * On a single touch input device, there can only be one point
         * of contact on the surface, so the following code can only
         * execute when the terminal supports multiple touches.
         */</span>

        <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'Hello Multiple Touch!'</span>);
    }

}, <span class="hljs-literal">false</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
      </div>
			</section>
			<section id="changedtouches-of-a-touchevent"><div class="header-wrapper"><h4 id="x5-2-2-changedtouches-of-a-touchevent"><bdi class="secno">5.2.2 </bdi><code>changedTouches</code> of a <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-9"><code>TouchEvent</code></a></h4><a class="self-link" href="#changedtouches-of-a-touchevent" aria-label="Permalink for Section 5.2.2"></a></div>
				
				<p>This example demonstrates the utility of <code>changedTouches</code> and it's relation with the other <a href="#dom-touchlist" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchlist-7"><code>TouchList</code></a> members of the <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-10"><code>TouchEvent</code></a> interface. The code is a example which triggers whenever a touch point is removed from the defined touchable element:</p>
<div class="example" id="example-2">
        <div class="marker">
    <a class="self-link" href="#example-2">Example<bdi> 2</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"touchable"</span>&gt;</span>This element is touchable.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'touchable'</span>).addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ev</span>) </span>{

    <span class="hljs-comment">/**
     * Example output when three touch points are on the surface,
     * two of them being on the "touchable" element and one point
     * in the "touchable" element is lifted from the surface:
     *
     * Touch points removed: 1
     * Touch points left on element: 1
     * Touch points left on document: 2
     */</span>

    <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'Touch points removed: '</span> + ev.changedTouches.length);
    <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'Touch points left on element: '</span> + ev.targetTouches.length);
    <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'Touch points left on document: '</span> + ev.touches.length);

}, <span class="hljs-literal">false</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
      </div>
			</section>
			<section id="firing-a-synthetic-touchevent-from-script"><div class="header-wrapper"><h4 id="x5-2-3-firing-a-synthetic-touchevent-from-script"><bdi class="secno">5.2.3 </bdi>Firing a synthetic <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-11"><code>TouchEvent</code></a> from script</h4><a class="self-link" href="#firing-a-synthetic-touchevent-from-script" aria-label="Permalink for Section 5.2.3"></a></div>
				
				<p>This example demonstrates how to create and fire a <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-12"><code>TouchEvent</code></a> from script.</p>
<div class="example" id="example-3">
        <div class="marker">
    <a class="self-link" href="#example-3">Example<bdi> 3</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">if</span> (Touch.length &lt; <span class="hljs-number">1</span> || TouchEvent.length &lt; <span class="hljs-number">1</span>)
  <span class="hljs-keyword">throw</span> <span class="hljs-string">"TouchEvent constructors not supported"</span>;

<span class="hljs-keyword">var</span> touch = <span class="hljs-keyword">new</span> Touch({
    <span class="hljs-attr">identifier</span>: <span class="hljs-number">42</span>,
    <span class="hljs-attr">target</span>: <span class="hljs-built_in">document</span>.body,
    <span class="hljs-attr">clientX</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">clientY</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">screenX</span>: <span class="hljs-number">300</span>,
    <span class="hljs-attr">screenY</span>: <span class="hljs-number">300</span>,
    <span class="hljs-attr">pageX</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">pageY</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">radiusX</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">radiusY</span>: <span class="hljs-number">5</span>
});

<span class="hljs-keyword">var</span> touchEvent = <span class="hljs-keyword">new</span> TouchEvent(<span class="hljs-string">"touchstart"</span>, {
    <span class="hljs-attr">cancelable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">composed</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">touches</span>: [touch],
    <span class="hljs-attr">targetTouches</span>: [touch],
    <span class="hljs-attr">changedTouches</span>: [touch]
});

<span class="hljs-built_in">document</span>.body.dispatchEvent(touchEvent);</code></pre>
      </div>
			</section>
		</section>
		<section class="informative" id="list-of-touchevent-types"><div class="header-wrapper"><h3 id="x5-3-list-of-touchevent-types"><bdi class="secno">5.3 </bdi>List of <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-13"><code>TouchEvent</code></a> types</h3><a class="self-link" href="#list-of-touchevent-types" aria-label="Permalink for Section 5.3"></a></div><p><em>This section is non-normative.</em></p>
			
			<p>The following table provides a summary of the <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-14"><code>TouchEvent</code></a> event types defined in this specification. All events should accomplish the bubbling phase. All events should be composed [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom4" title="DOM Standard">WHATWG-DOM</a></cite>] events.</p>
			<table class="simple" id="table-event-summary">
				<thead>
					<tr>
						<th>Event Type</th>
						<th>Sync / Async</th>
						<th>Bubbling phase</th>
						<th>Composed</th>
						<th>Trusted proximal event target types</th>
						<th>Interface</th>
						<th>Cancelable</th>
						<th>Default Action</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<th scope="row">
							<a href="#dfn-touchstart" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchstart-3"><code><code>touchstart</code></code></a>
						</th>
						<td>Sync</td>
						<td>Yes</td>
						<td>Yes</td>
						<td><code>Document</code>, <code>Element</code></td>
						<td>
							<a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-15"><code>TouchEvent</code></a>
						</td>
						<td>
							<a href="#cancelability">Varies</a>
						</td>
						<td>undefined</td>
					</tr>
					<tr>
						<th scope="row">
							<a href="#dfn-touchend" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchend-3"><code><code>touchend</code></code></a>
						</th>
						<td>Sync</td>
						<td>Yes</td>
						<td>Yes</td>
						<td><code>Document</code>, <code>Element</code></td>
						<td>
							<a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-16"><code>TouchEvent</code></a>
						</td>
						<td>
							<a href="#cancelability">Varies</a>
						</td>
						<td>
							Varies: user agents may dispatch <a href="#mouse-events">mouse and click events</a>
						</td>
					</tr>
					<tr>
						<th scope="row">
							<a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-3"><code><code>touchmove</code></code></a>
						</th>
						<td>Sync</td>
						<td>Yes</td>
						<td>Yes</td>
						<td><code>Document</code>, <code>Element</code></td>
						<td>
							<a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-17"><code>TouchEvent</code></a>
						</td>
						<td>
							<a href="#cancelability">Varies</a>
						</td>
						<td>undefined</td>
					</tr>
					<tr>
						<th scope="row">
							<a href="#dfn-touchcancel" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchcancel-3"><code><code>touchcancel</code></code></a>
						</th>
						<td>Sync</td>
						<td>Yes</td>
						<td>Yes</td>
						<td><code>Document</code>, <code>Element</code></td>
						<td>
							<a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-18"><code>TouchEvent</code></a>
						</td>
						<td>No</td>
						<td>none</td>
					</tr>
				</tbody>
			</table>
		</section>
		<section id="cancelability-of-touch-events"><div class="header-wrapper"><h3 id="cancelability"><bdi class="secno">5.4 </bdi>Cancelability of touch events</h3><a class="self-link" href="#cancelability" aria-label="Permalink for Section 5.4"></a></div>
			
			<p><a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-1">Canceling</a> a touch event can prevent or otherwise interrupt scrolling (which could be happening in parallel with script execution). For maximum scroll performance, a user agent may not wait for each touch event associated with the scroll to be processed to see if it will be canceled. In such cases the user agent should generate touch events whose <code>cancelable</code> property is <code>false</code>, indicating that <code>preventDefault</code> cannot be used to prevent or interrupt scrolling. Otherwise <code>cancelable</code> will be <code>true</code>.</p>
			<p>In particular, a user agent should generate only uncancelable touch events when it <a href="https://dom.spec.whatwg.org/#observing-event-listeners">observes that there are no non-passive listeners</a> for the event.</p>
		</section>
		<section id="the-touchstart-event"><div class="header-wrapper"><h3 id="event-touchstart"><bdi class="secno">5.5 </bdi>The <dfn class="event" data-dfn-type="event" id="dfn-touchstart" tabindex="0" aria-haspopup="dialog" data-export=""><code>touchstart</code></dfn> event</h3><a class="self-link" href="#event-touchstart" aria-label="Permalink for Section 5.5"></a></div>
			
			<p>A user agent must dispatch this event type to indicate when the user places a <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-5">touch point</a> on the touch surface.</p>
			<p>The target of this event must be an <code>Element</code>. If the touch point is within a frame, the event should be dispatched to an element in the child browsing context of that frame.</p>
			<p>If this event is <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-2">canceled</a>, it should prevent any default actions caused by any touch events associated with the same <a href="#dfn-active-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-active-touch-point-2">active touch point</a>, including mouse events or scrolling.</p>
		</section>
		<section data-link-for="TouchEvent" id="the-touchend-event"><div class="header-wrapper"><h3 id="event-touchend"><bdi class="secno">5.6 </bdi>The <dfn class="event" data-dfn-type="event" id="dfn-touchend" tabindex="0" aria-haspopup="dialog" data-export=""><code>touchend</code></dfn> event</h3><a class="self-link" href="#event-touchend" aria-label="Permalink for Section 5.6"></a></div>
			
			<p>A user agent must dispatch this event type to indicate when the user removes a <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-6">touch point</a> from the touch surface, also including cases where the touch point physically leaves the touch surface, such as being dragged off of the screen.</p>
			<p>The target of this event must be the same <code>Element</code> on which the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-7">touch point</a> started when it was first placed on the surface, even if the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-8">touch point</a> has since moved outside the interactive area of the target element.</p>
			<p>The <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-9">touch point</a> or points that were removed must be included in the <a href="#dom-touchevent-changedtouches" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-changedtouches-2"><code>changedTouches</code></a> attribute of the <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-19"><code>TouchEvent</code></a>, and must not be included in the <a href="#dom-touchevent-touches" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-touches-2"><code>touches</code></a> and <a href="#dom-touchevent-targettouches" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-targettouches-2"><code>targetTouches</code></a> attributes.</p>
			<p>If this event is <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-3">canceled</a>, any sequence of touch events that includes this event must not be <a href="#click-events">interpreted as a click</a>.</p>
		</section>
		<section id="the-touchmove-event"><div class="header-wrapper"><h3 id="event-touchmove"><bdi class="secno">5.7 </bdi>The <dfn class="event" data-dfn-type="event" id="dfn-touchmove" tabindex="0" aria-haspopup="dialog" data-export=""><code>touchmove</code></dfn> event</h3><a class="self-link" href="#event-touchmove" aria-label="Permalink for Section 5.7"></a></div>
			
			<p>A user agent must dispatch this event type to indicate when the user moves a <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-10">touch point</a> along the touch surface.</p>
			<p>The target of this event must be the same <code>Element</code> on which the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-11">touch point</a> started when it was first placed on the surface, even if the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-12">touch point</a> has since moved outside the interactive area of the target element.</p>
			<p>Note that the rate at which the user agent sends <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-4"><code><code>touchmove</code></code></a> events is implementation-defined, and may depend on hardware capabilities and other implementation details.</p>
			<p>A user agent should suppress the default action caused by any <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-5"><code><code>touchmove</code></code></a> event until at least one <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-6"><code><code>touchmove</code></code></a> event associated with the same <a href="#dfn-active-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-active-touch-point-3">active touch point</a> is not <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-4">canceled</a>. Whether the default action is suppressed for <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-7"><code><code>touchmove</code></code></a> events after at least one <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-8"><code><code>touchmove</code></code></a> event associated with the same <a href="#dfn-active-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-active-touch-point-4">active touch point</a> is not <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-5">canceled</a> is implementation dependent.</p>
		</section>
		<section data-link-for="TouchEvent" id="the-touchcancel-event"><div class="header-wrapper"><h3 id="event-touchcancel"><bdi class="secno">5.8 </bdi>The <dfn class="event" data-dfn-type="event" id="dfn-touchcancel" tabindex="0" aria-haspopup="dialog" data-export=""><code>touchcancel</code></dfn> event</h3><a class="self-link" href="#event-touchcancel" aria-label="Permalink for Section 5.8"></a></div>
			
			<p>A user agent must dispatch this event type to indicate when a touch point has been disrupted in an implementation-specific manner, such as a synchronous event or action originating from the UA canceling the touch, or the touch point leaving the document window into a non-document area which is capable of handling user interactions (e.g. the UA's native user interface, or an area of the document which is managed by a plug-in). A user agent may also dispatch this event type when the user places more <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-13">touch point</a>s on the touch surface than the device or implementation is configured to store, in which case the earliest <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-14"><code>Touch</code></a> object in the <a href="#dom-touchlist" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchlist-8"><code>TouchList</code></a> should be removed.</p>
			<p>The target of this event must be the same <code>Element</code> on which the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-14">touch point</a> started when it was first placed on the surface, even if the <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-15">touch point</a> has since moved outside the interactive area of the target element.</p>
			<p>The <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-16">touch point</a> or points that were removed must be included in the <a href="#dom-touchevent-changedtouches" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-changedtouches-3"><code>changedTouches</code></a> attribute of the <a href="#dom-touchevent" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-20"><code>TouchEvent</code></a>, and must not be included in the <a href="#dom-touchevent-touches" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-touches-3"><code>touches</code></a> and <a href="#dom-touchevent-targettouches" class="internalDFN" data-link-type="idl" id="ref-for-dom-touchevent-targettouches-3"><code>targetTouches</code></a> attributes.</p>
		</section>
	</section>
	<section id="retargeting"><div class="header-wrapper"><h2 id="x6-retargeting"><bdi class="secno">6. </bdi>Retargeting</h2><a class="self-link" href="#retargeting" aria-label="Permalink for Section 6."></a></div>
		
		<p>The following section describes <a href="https://dom.spec.whatwg.org/#retarget">retargeting steps</a>, defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom4" title="DOM Standard">WHATWG-DOM</a></cite>].</p>
		<p><code>Touch</code> object has an associated <dfn id="dfn-unadjustedtarget" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">unadjustedTarget</dfn> (null or <code>EventTarget</code>). Unless stated otherwise it is null.</p>
		<p><code>TouchEvent</code>'s <a href="https://dom.spec.whatwg.org/#retarget">retargeting steps</a>, given a <var>touchEvent</var>, must run these steps:</p>
		<ol>
			<li>
				<p>For each <a href="#dom-touch" class="internalDFN" data-link-type="idl" id="ref-for-dom-touch-15"><code>Touch</code></a> <var>touch</var> in <var>touchEvent</var>'s <code>touches</code>, <code>targetTouches</code>, and <code>changedTouches</code> members:</p>
				<ol>
					<li>Set <var>touch</var>'s <a href="#dfn-unadjustedtarget" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unadjustedtarget-1"><code>unadjustedTarget</code></a> to <var>touch</var>'s <code>target</code> if <var>touch</var>'s <a href="#dfn-unadjustedtarget" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unadjustedtarget-2"><code>unadjustedTarget</code></a> is null.
					</li>
					<li>Set <var>touch</var>'s <code>target</code> to the result of invoking <a href="https://dom.spec.whatwg.org/#retarget">retargeting</a> <var>touch</var>'s <a href="#dfn-unadjustedtarget" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unadjustedtarget-3"><code>unadjustedTarget</code></a> against <var>touchEvent</var>'s <code>target</code>.
					</li>
				</ol>
			</li>
		</ol>
	</section>
	<section id="conditionally-exposing-legacy-touch-event-apis"><div class="header-wrapper"><h2 id="x7-conditionally-exposing-legacy-touch-event-apis"><bdi class="secno">7. </bdi>Conditionally exposing legacy touch event APIs</h2><a class="self-link" href="#conditionally-exposing-legacy-touch-event-apis" aria-label="Permalink for Section 7."></a></div>
		
		<p>User agents have an associated boolean <dfn data-export="" id="dfn-expose-legacy-touch-event-apis" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">expose legacy touch event APIs</dfn> whose value is <a data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined">implementation-defined</a>.</p>
		<div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>Note</span></div><p class="">Existing web content often use the existence of these APIs as a signal that the user agent is a touch-enabled "mobile" device, and therefore exposing these APIs on non-mobile devices, even if they are touch-enabled, could lead to a suboptimal user experience for such web content.</p></div>
	</section>
	<section id="extensions-to-the-globaleventhandlers-mixin"><div class="header-wrapper"><h2 id="x8-extensions-to-the-globaleventhandlers-mixin"><bdi class="secno">8. </bdi>Extensions to the <code>GlobalEventHandlers</code> mixin</h2><a class="self-link" href="#extensions-to-the-globaleventhandlers-mixin" aria-label="Permalink for Section 8."></a></div>
		
		<p>The following section describes extensions to the existing <dfn id="dom-globaleventhandlers" data-idl="interface mixin" data-title="GlobalEventHandlers" data-dfn-for="" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/html5/#globaleventhandlers"><code>GlobalEventHandlers</code></a></dfn> mixin, defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-html5" title="HTML5">HTML5</a></cite>], to facilitate the event handler registration. For user agents where <a href="#dfn-expose-legacy-touch-event-apis" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-expose-legacy-touch-event-apis-1">expose legacy touch event APIs</a> is false, this mixin must not be implemented.</p>
<pre class="idl def" id="webidl-152255038"><span class="idlHeader"><a class="self-link" href="#webidl-152255038">WebIDL</a></span><code><span data-idl="" class="idlInterface mixin" id="idl-def-globaleventhandlers-partial-1" data-title="GlobalEventHandlers">partial interface mixin <a class="internalDFN idlID" data-link-type="interface" href="#dom-globaleventhandlers"><code>GlobalEventHandlers</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-globaleventhandlers-ontouchstart" data-title="ontouchstart" data-dfn-for="GlobalEventHandlers">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-globaleventhandlers-ontouchstart" id="ref-for-dom-globaleventhandlers-ontouchstart-1"><code>ontouchstart</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-globaleventhandlers-ontouchend" data-title="ontouchend" data-dfn-for="GlobalEventHandlers">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-globaleventhandlers-ontouchend" id="ref-for-dom-globaleventhandlers-ontouchend-1"><code>ontouchend</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-globaleventhandlers-ontouchmove" data-title="ontouchmove" data-dfn-for="GlobalEventHandlers">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-globaleventhandlers-ontouchmove" id="ref-for-dom-globaleventhandlers-ontouchmove-1"><code>ontouchmove</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-globaleventhandlers-ontouchcancel" data-title="ontouchcancel" data-dfn-for="GlobalEventHandlers">
                    attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-globaleventhandlers-ontouchcancel" id="ref-for-dom-globaleventhandlers-ontouchcancel-1"><code>ontouchcancel</code></a>;</span>
};</span></code></pre>
		<dl data-dfn-for="GlobalEventHandlers" data-link-for="GlobalEventHandlers">
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-globaleventhandlers-ontouchstart" data-idl="attribute" data-title="ontouchstart" data-dfn-for="GlobalEventHandlers" data-type="EventHandler" data-lt="ontouchstart" data-local-lt="GlobalEventHandlers.ontouchstart" tabindex="0" aria-haspopup="dialog"><code>ontouchstart</code></dfn></dt>
			<dd>
				<p>The event handler IDL attribute (see [<cite><a class="bibref" data-link-type="biblio" href="#bib-html5" title="HTML5">HTML5</a></cite>]) for the <code>touchstart</code> event type.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-globaleventhandlers-ontouchend" data-idl="attribute" data-title="ontouchend" data-dfn-for="GlobalEventHandlers" data-type="EventHandler" data-lt="ontouchend" data-local-lt="GlobalEventHandlers.ontouchend" tabindex="0" aria-haspopup="dialog"><code>ontouchend</code></dfn></dt>
			<dd>
				<p>The event handler IDL attribute (see [<cite><a class="bibref" data-link-type="biblio" href="#bib-html5" title="HTML5">HTML5</a></cite>]) for the <code>touchend</code> event type.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-globaleventhandlers-ontouchmove" data-idl="attribute" data-title="ontouchmove" data-dfn-for="GlobalEventHandlers" data-type="EventHandler" data-lt="ontouchmove" data-local-lt="GlobalEventHandlers.ontouchmove" tabindex="0" aria-haspopup="dialog"><code>ontouchmove</code></dfn></dt>
			<dd>
				<p>The event handler IDL attribute (see [<cite><a class="bibref" data-link-type="biblio" href="#bib-html5" title="HTML5">HTML5</a></cite>]) for the <code>touchmove</code> event type.</p>
			</dd>
			<dt><dfn data-export="" data-dfn-type="attribute" id="dom-globaleventhandlers-ontouchcancel" data-idl="attribute" data-title="ontouchcancel" data-dfn-for="GlobalEventHandlers" data-type="EventHandler" data-lt="ontouchcancel" data-local-lt="GlobalEventHandlers.ontouchcancel" tabindex="0" aria-haspopup="dialog"><code>ontouchcancel</code></dfn></dt>
			<dd>
				<p>The event handler IDL attribute (see [<cite><a class="bibref" data-link-type="biblio" href="#bib-html5" title="HTML5">HTML5</a></cite>]) for the <code>touchcancel</code> event type.</p>
			</dd>
		</dl>
	</section>
	<section id="mouse-events"><div class="header-wrapper"><h2 id="x9-interaction-with-mouse-events-and-click"><bdi class="secno">9. </bdi>Interaction with Mouse Events and <code>click</code></h2><a class="self-link" href="#mouse-events" aria-label="Permalink for Section 9."></a></div>
		
		<p>The user agent may dispatch both touch events and (for compatibility with web content not designed for touch) mouse events [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom-level-2-events" title="Document Object Model (DOM) Level 2 Events Specification">DOM-LEVEL-2-EVENTS</a></cite>] in response to the same user input. If the user agent dispatches both touch events and mouse events in response to a single user action, then the <a href="#dfn-touchstart" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchstart-4"><code><code>touchstart</code></code></a> event type must be dispatched before any mouse event types for that action. If <a href="#dfn-touchstart" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchstart-5"><code><code>touchstart</code></code></a>, <a href="#dfn-touchmove" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchmove-9"><code><code>touchmove</code></code></a>, or <a href="#dfn-touchend" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchend-4"><code><code>touchend</code></code></a> are <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-6">canceled</a>, the user agent should not dispatch any mouse event that would be a consequential result of the prevented touch event.</p>
		<div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="3"><span>Note</span></div><p class="">If a Web application can process touch events, it can <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-7">cancel</a> the events, and no corresponding mouse events would need to be dispatched by the user agent. If the Web application is not specifically written for touch input devices, it will react to the subsequent mouse events instead.</p></div>
		<div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>Note</span></div><p class="">User agents will typically dispatch mouse and click events only for single-finger activation gestures (like tap and long press). Gestures involving movement of the touch point or multi-touch interactions – with two or more <a href="#dfn-active-touch-point" id="ref-for-dfn-active-touch-point-5">active touch points</a> – will usually only generate touch events.</p></div>
		<p id="click-events">If the user agent interprets a sequence of touch events as a tap gesture, then it should dispatch <code>mousemove</code>, <code>mousedown</code>, <code>mouseup</code>, and <code>click</code> events (in that order) at the location of the <a href="#dfn-touchend" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchend-5"><code><code>touchend</code></code></a> event for the corresponding touch input. If the contents of the document have changed during processing of the touch events, then the user agent may dispatch the mouse events to a different target than the touch events.</p>
		<p>The default actions and ordering of any further touch and mouse events are implementation-defined, except as specified elsewhere.</p>
		<div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>Note</span></div><div class="">
			<p>The activation of an element (e.g., in some implementations, a tap) would typically produce the following event sequence (though this may vary slightly, depending on specific user agent behavior):</p>
			<ol data-class="note-list">
				<li><code>touchstart</code></li>
				<li>Zero or more <code>touchmove</code> events, depending on movement of the finger</li>
				<li><code>touchend</code></li>
				<li><code>mousemove</code> <small>(for compatibility with legacy mouse-specific code)</small></li>
				<li><code>mousedown</code></li>
				<li><code>mouseup</code></li>
				<li><code>click</code></li>
			</ol>
			<p>If, however, either the <code>touchstart</code>, <code>touchmove</code> or <code>touchend</code> event has been <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-8">canceled</a> during this interaction, no mouse or click events will be fired, and the resulting sequence of events would simply be:</p>
			<ol data-class="note-list">
				<li><code>touchstart</code></li>
				<li>Zero or more <code>touchmove</code> events, depending on movement of the finger</li>
				<li><code>touchend</code></li>
			</ol>
		</div></div>
		<div class="note" role="note" id="issue-container-generatedID-7"><div role="heading" class="note-title marker" id="h-note-7" aria-level="3"><span>Note</span></div><div class="">
			<p>Even if a user agent supports Touch Events, this does not necessarily mean that a touchscreen is the only input mechanism available to users. Particularly in the case of touch-enabled laptops, or traditional "touch only" devices (such as phones and tablets) with paired external input devices, users may use the touchscreen in conjunction with a trackpad, mouse or keyboard. For this reason, developers should avoid binding event listeners with "either touch or mouse/keyboard" conditional code, as this results in sites/application that become touch-exclusive, preventing users from being able to use any other input mechanism.</p>
<div class="example" id="example-4">
        <div class="marker">
    <a class="self-link" href="#example-4">Example<bdi> 4</bdi></a>
  </div> <pre class=""><code aria-busy="false" class="hljs javascript">
<span class="hljs-comment">// conditional "touch OR mouse/keyboard" event binding</span>
<span class="hljs-comment">// DON'T DO THIS, as it makes interactions touch-exclusive</span>
<span class="hljs-comment">// on devices that have both touch and mouse/keyboard</span>

<span class="hljs-keyword">if</span> (<span class="hljs-string">'ontouchstart'</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>) {
  <span class="hljs-comment">// set up event listeners for touch</span>
  target.addEventListener(<span class="hljs-string">'touchend'</span>, ...);
  ...
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// set up event listeners for mouse/keyboard</span>
  target.addEventListener(<span class="hljs-string">'click'</span>, ...);
  ...
}
</code></pre>
      </div>
			<p>Instead, developers should handle different forms of input concurrently.</p>
<div class="example" id="example-5">
        <div class="marker">
    <a class="self-link" href="#example-5">Example<bdi> 5</bdi></a>
  </div> <pre class=""><code aria-busy="false" class="hljs javascript">
<span class="hljs-comment">// concurrent "touch AND mouse/keyboard" event binding</span>

<span class="hljs-comment">// set up event listeners for touch</span>
target.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
  <span class="hljs-comment">// prevent compatibility mouse events and click</span>
  e.preventDefault();
  ...
});
...

<span class="hljs-comment">// set up event listeners for mouse/keyboard</span>
target.addEventListener(<span class="hljs-string">'click'</span>, ...);
...
</code></pre>
      </div>
			<p>To avoid processing the same interaction twice for touch (once for the touch event, and once for the compatibility mouse events), developers should make sure to <a href="#dfn-canceled-event" id="ref-for-dfn-canceled-event-9">cancel</a> the touch event, suppressing the generation of any further mouse or click events. Alternatively, see the <a href="https://wicg.github.io/input-device-capabilities/">InputDeviceCapabilities API</a> for a way to detect mouse events that were generated as a result of touch events.</p>
		</div></div>
	</section>
	<section id="glossary"><div class="header-wrapper"><h2 id="x10-glossary"><bdi class="secno">10. </bdi>Glossary</h2><a class="self-link" href="#glossary" aria-label="Permalink for Section 10."></a></div>
		
		<dl>
			<dt><dfn id="dfn-active-touch-point" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">active touch point</dfn></dt>
			<dd>
				A <a href="#dfn-touch-point" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touch-point-17">touch point</a> which is currently on the screen and is being tracked by the user agent. The touch point becomes active when the user agent first dispatches a <a href="#dfn-touchstart" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchstart-6"><code><code>touchstart</code></code></a> event indicating its appearance. It ceases to be active after the user agent dispatches a <a href="#dfn-touchend" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchend-6"><code><code>touchend</code></code></a> or <a href="#dfn-touchcancel" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-touchcancel-4"><code><code>touchcancel</code></code></a> event indicating that the touch point is removed from the surface or no longer tracked.
			</dd>
			<dt><dfn id="dfn-touch-point" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">touch point</dfn></dt>
			<dd>The coordinate point at which a pointer (e.g finger or stylus) intersects the target surface of an interface. This may apply to a finger touching a touch-screen, or an digital pen writing on a piece of paper.</dd>
			<dt><dfn id="dfn-canceled-event" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">canceled event</dfn></dt>
			<dd>An event whose default action was prevented by means of <code>preventDefault()</code>, returning <code>false</code> in an event handler, or other means as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom-level-3-events" title="UI Events">DOM-LEVEL-3-EVENTS</a></cite>] and [<cite><a class="bibref" data-link-type="biblio" href="#bib-html5" title="HTML5">HTML5</a></cite>].</dd>
		</dl>
	</section>
	<section class="appendix informative" id="acknowledgements"><div class="header-wrapper"><h2 id="a-acknowledgements"><bdi class="secno">A. </bdi>Acknowledgements</h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Appendix A."></a></div><p><em>This section is non-normative.</em></p>
		
		<p>Many thanks to the WebKit engineers for developing the model used as a basis for this spec, Neil Roberts (SitePen) for his summary of WebKit touch events, Peter-Paul Koch (PPK) for his write-ups and suggestions, Robin Berjon for developing the <a href="https://dev.w3.org/2009/dap/ReSpec.js/documentation.html">ReSpec.js spec authoring tool</a>, and the WebEvents WG for their many contributions.</p>
		<p>Many others have made additional comments as the spec developed, which have led to steady improvements. Among them are Matthew Schinckel, Andrew Grieve, Cathy Chan, Boris Zbarsky, Patrick H. Lauke, and Simon Pieters. If we inadvertently omitted your name, please let me know.</p>
		<p>The group acknowledges the following contributors to this specification's test suite: Matt Brubeck, Olli Pettay, Art Barstow, Cathy Chan and Rick Byers.</p>
	</section>
	<section class="appendix informative" id="changes-since-last-publication"><div class="header-wrapper"><h2 id="b-changes-since-last-publication"><bdi class="secno">B. </bdi>Changes Since Last Publication</h2><a class="self-link" href="#changes-since-last-publication" aria-label="Permalink for Appendix B."></a></div><p><em>This section is non-normative.</em></p>
		
		<p>This is a summary of the major changes made since the <a href="https://www.w3.org/TR/touch-events/">10 October 2013 Recommendation</a> was published. <a href="https://github.com/w3c/touch-events/compare/v1...gh-pages">Full commit history</a> is also available.</p>
		<ul>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/125">Reword altitudeAngle/azimuthAngle descriptions in line with PointerEvents, add illustrations</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/120">Add getModifierState definition</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/303b36e1d188a380f9bc0861b175438e596a34b1">Added force attribute to Touch</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/6d222fb7f106273bef847ad1d1d7a23569841954">Added radiusX and radiusY attributes to Touch</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/487f6815a9590b72779d4820ff43c2b58d798f92">Added rotationAngle attribute to Touch</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/006274ffada14de504f731afdb5ec1581ff327ca">Upgraded co-ordinates to double type instead of long</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/df620100e48111cf7a30592f344606f8c8b7fe22">Update touchmove behavior on preventDefault</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/54a3d1668c4f727d9c6f6d729b28a036041e301f">Clarify effect of canceling touchend event</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/219546b80cd148543a5ece656d81ba3c901d2106">Add constructor for TouchEvent and Touch</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/commit/50f51ccacb0d5ad06f9cf6ed44f853d6a3616d10">Added legacy event initializer initTouchEvent</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/59">Added support for uncancelable touch events and described scroll performance implications</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/67">Indicate that all events should be "composed".</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/72">Note about avoiding conditional "touch OR mouse/keyboard" event handling</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/73">Added TouchEvent's retargeting steps</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/81">Add touchType, altitudeAngle, azimuthAngle (Safari iOS 10.3 extensions for stylus)</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/88">Add [Exposed=Window] to Constructor</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/95">Add note to mention UA might adjusting touch target</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/96">Remove Legacy Event Initializers (createTouch and createTouchList)</a> and the <a href="https://github.com/w3c/touch-events/pull/100">note about initTouchEvent / createTouchList</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/111">Conditionally expose legacy touch events API</a>
			</li>
			<li>
				<a href="https://github.com/w3c/touch-events/pull/91">Add getModifierState definition to TouchEvent</a>
			</li>
		</ul>
	</section>

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="c-references"><bdi class="secno">C. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix C."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="c-1-normative-references"><bdi class="secno">C.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix C.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-css-values">[CSS-VALUES]</dt><dd>
      <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS Values and Units Module Level 3</cite></a>. Tab Atkins Jr.; Elika Etemad.  W3C. 22 March 2024. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
    </dd><dt id="bib-dom-level-2-events">[DOM-LEVEL-2-EVENTS]</dt><dd>
      <a href="https://www.w3.org/TR/DOM-Level-2-Events/"><cite>Document Object Model (DOM) Level 2 Events Specification</cite></a>. Tom Pixley.  W3C. 3 November 2020. W3C Recommendation. URL: <a href="https://www.w3.org/TR/DOM-Level-2-Events/">https://www.w3.org/TR/DOM-Level-2-Events/</a>
    </dd><dt id="bib-dom-level-3-events">[DOM-LEVEL-3-EVENTS]</dt><dd>
      <a href="https://www.w3.org/TR/uievents/"><cite>UI Events</cite></a>. Gary Kacmarcik; Travis Leithead.  W3C. 22 June 2024. W3C Working Draft. URL: <a href="https://www.w3.org/TR/uievents/">https://www.w3.org/TR/uievents/</a>
    </dd><dt id="bib-dom4">[DOM4]</dt><dd>
      <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
    </dd><dt id="bib-html">[html]</dt><dd>
      <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
    </dd><dt id="bib-html5">[HTML5]</dt><dd>
      <a href="https://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. Ian Hickson; Robin Berjon; Steve Faulkner; Travis Leithead; Erika Doyle Navara; Theresa O'Connor; Silvia Pfeiffer.  W3C. 27 March 2018. W3C Recommendation. URL: <a href="https://www.w3.org/TR/html5/">https://www.w3.org/TR/html5/</a>
    </dd><dt id="bib-infra">[infra]</dt><dd>
      <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-webidl">[WEBIDL]</dt><dd>
      <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.  WHATWG. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dd></dl>
  </section><section id="informative-references"><div class="header-wrapper"><h3 id="c-2-informative-references"><bdi class="secno">C.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix C.2"></a></div>
    
    <dl class="bibliography"><dt id="bib-pointerevents">[POINTEREVENTS]</dt><dd>
      <a href="https://www.w3.org/TR/pointerevents/"><cite>Pointer Events</cite></a>. Jacob Rossi; Matt Brubeck.  W3C. 4 April 2019. W3C Recommendation. URL: <a href="https://www.w3.org/TR/pointerevents/">https://www.w3.org/TR/pointerevents/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch" aria-label="Links in this document to definition: Touch">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch" aria-label="Permalink for definition: Touch. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> <a href="#ref-for-dom-touch-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-touch-3" title="§ 4. TouchList Interface">§ 4. TouchList Interface</a> <a href="#ref-for-dom-touch-4" title="Reference 2">(2)</a> <a href="#ref-for-dom-touch-5" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dom-touch-6" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dom-touch-7" title="Reference 2">(2)</a> <a href="#ref-for-dom-touch-8" title="Reference 3">(3)</a> <a href="#ref-for-dom-touch-9" title="Reference 4">(4)</a> <a href="#ref-for-dom-touch-10" title="Reference 5">(5)</a> <a href="#ref-for-dom-touch-11" title="Reference 6">(6)</a> 
    </li><li>
      <a href="#ref-for-dom-touch-12" title="§ 5.1 TouchEvent Implementer's Note">§ 5.1 TouchEvent Implementer's Note</a> <a href="#ref-for-dom-touch-13" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-touch-14" title="§ 5.8 The touchcancel event">§ 5.8 The touchcancel event</a> 
    </li><li>
      <a href="#ref-for-dom-touch-15" title="§ 6. Retargeting">§ 6. Retargeting</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit" aria-label="Links in this document to definition: TouchInit">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit" aria-label="Permalink for definition: TouchInit. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchinit-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-identifier" aria-label="Links in this document to definition: identifier">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-identifier" aria-label="Permalink for definition: identifier. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-target" aria-label="Links in this document to definition: target">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-target" aria-label="Permalink for definition: target. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-clientx" aria-label="Links in this document to definition: clientX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-clientx" aria-label="Permalink for definition: clientX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-clienty" aria-label="Links in this document to definition: clientY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-clienty" aria-label="Permalink for definition: clientY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-screenx" aria-label="Links in this document to definition: screenX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-screenx" aria-label="Permalink for definition: screenX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-screeny" aria-label="Links in this document to definition: screenY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-screeny" aria-label="Permalink for definition: screenY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-pagex" aria-label="Links in this document to definition: pageX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-pagex" aria-label="Permalink for definition: pageX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-pagey" aria-label="Links in this document to definition: pageY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-pagey" aria-label="Permalink for definition: pageY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-radiusx" aria-label="Links in this document to definition: radiusX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-radiusx" aria-label="Permalink for definition: radiusX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-radiusy" aria-label="Links in this document to definition: radiusY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-radiusy" aria-label="Permalink for definition: radiusY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-rotationangle" aria-label="Links in this document to definition: rotationAngle">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-rotationangle" aria-label="Permalink for definition: rotationAngle. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-force" aria-label="Links in this document to definition: force">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-force" aria-label="Permalink for definition: force. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-altitudeangle" aria-label="Links in this document to definition: altitudeAngle">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-altitudeangle" aria-label="Permalink for definition: altitudeAngle. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-azimuthangle" aria-label="Links in this document to definition: azimuthAngle">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-azimuthangle" aria-label="Permalink for definition: azimuthAngle. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchinit-touchtype" aria-label="Links in this document to definition: touchType">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchinit-touchtype" aria-label="Permalink for definition: touchType. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-constructor" aria-label="Links in this document to definition: constructor">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-constructor" aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-identifier" aria-label="Links in this document to definition: identifier">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-identifier" aria-label="Permalink for definition: identifier. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-identifier-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> <a href="#ref-for-dom-touch-identifier-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-touch-identifier-3" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-target" aria-label="Links in this document to definition: target">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-target" aria-label="Permalink for definition: target. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-target-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-screenx" aria-label="Links in this document to definition: screenX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-screenx" aria-label="Permalink for definition: screenX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-screenx-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-screeny" aria-label="Links in this document to definition: screenY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-screeny" aria-label="Permalink for definition: screenY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-screeny-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-clientx" aria-label="Links in this document to definition: clientX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-clientx" aria-label="Permalink for definition: clientX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-clientx-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-clienty" aria-label="Links in this document to definition: clientY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-clienty" aria-label="Permalink for definition: clientY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-clienty-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-pagex" aria-label="Links in this document to definition: pageX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-pagex" aria-label="Permalink for definition: pageX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-pagex-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-pagey" aria-label="Links in this document to definition: pageY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-pagey" aria-label="Permalink for definition: pageY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-pagey-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-radiusx" aria-label="Links in this document to definition: radiusX">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-radiusx" aria-label="Permalink for definition: radiusX. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-radiusx-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-radiusy" aria-label="Links in this document to definition: radiusY">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-radiusy" aria-label="Permalink for definition: radiusY. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-radiusy-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-rotationangle" aria-label="Links in this document to definition: rotationAngle">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-rotationangle" aria-label="Permalink for definition: rotationAngle. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-rotationangle-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-force" aria-label="Links in this document to definition: force">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-force" aria-label="Permalink for definition: force. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-force-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-altitudeangle" aria-label="Links in this document to definition: altitudeAngle">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-altitudeangle" aria-label="Permalink for definition: altitudeAngle. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-altitudeangle-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-azimuthangle" aria-label="Links in this document to definition: azimuthAngle">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-azimuthangle" aria-label="Permalink for definition: azimuthAngle. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-azimuthangle-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touch-touchtype" aria-label="Links in this document to definition: touchType">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touch-touchtype" aria-label="Permalink for definition: touchType. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touch-touchtype-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchtype" aria-label="Links in this document to definition: TouchType">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchtype" aria-label="Permalink for definition: TouchType. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchtype-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> <a href="#ref-for-dom-touchtype-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-touchtype-3" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchtype-direct" aria-label="Links in this document to definition: direct">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchtype-direct" aria-label="Permalink for definition: direct. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchtype-direct-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchtype-stylus" aria-label="Links in this document to definition: stylus">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchtype-stylus" aria-label="Permalink for definition: stylus. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-552505958">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchtype-stylus-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchlist" aria-label="Links in this document to definition: TouchList">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchlist" aria-label="Permalink for definition: TouchList. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-624967195">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchlist-1" title="§ 4. TouchList Interface">§ 4. TouchList Interface</a> <a href="#ref-for-dom-touchlist-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-touchlist-3" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dom-touchlist-4" title="Reference 2">(2)</a> <a href="#ref-for-dom-touchlist-5" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dom-touchlist-6" title="§ 5.2 Usage Examples">§ 5.2 Usage Examples</a> 
    </li><li>
      <a href="#ref-for-dom-touchlist-7" title="§ 5.2.2 changedTouches of a TouchEvent">§ 5.2.2 changedTouches of a TouchEvent</a> 
    </li><li>
      <a href="#ref-for-dom-touchlist-8" title="§ 5.8 The touchcancel event">§ 5.8 The touchcancel event</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchlist-length" aria-label="Links in this document to definition: length">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchlist-length" aria-label="Permalink for definition: length. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-624967195">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchlist-length-1" title="§ 4. TouchList Interface">§ 4. TouchList Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchlist-item" aria-label="Links in this document to definition: item">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchlist-item" aria-label="Permalink for definition: item. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-624967195">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchlist-item-1" title="§ 4. TouchList Interface">§ 4. TouchList Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent" aria-label="Links in this document to definition: TouchEvent">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent" aria-label="Permalink for definition: TouchEvent. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dom-touchevent-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-3" title="§ 5.1 TouchEvent Implementer's Note">§ 5.1 TouchEvent Implementer's Note</a> <a href="#ref-for-dom-touchevent-4" title="Reference 2">(2)</a> <a href="#ref-for-dom-touchevent-5" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-6" title="§ 5.2 Usage Examples">§ 5.2 Usage Examples</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-7" title="§ 5.2.1 touches and targetTouches of a TouchEvent">§ 5.2.1 touches and targetTouches of a TouchEvent</a> <a href="#ref-for-dom-touchevent-8" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-9" title="§ 5.2.2 changedTouches of a TouchEvent">§ 5.2.2 changedTouches of a TouchEvent</a> <a href="#ref-for-dom-touchevent-10" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-11" title="§ 5.2.3 Firing a synthetic TouchEvent from script">§ 5.2.3 Firing a synthetic TouchEvent from script</a> <a href="#ref-for-dom-touchevent-12" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-13" title="§ 5.3 List of TouchEvent types">§ 5.3 List of TouchEvent types</a> <a href="#ref-for-dom-touchevent-14" title="Reference 2">(2)</a> <a href="#ref-for-dom-touchevent-15" title="Reference 3">(3)</a> <a href="#ref-for-dom-touchevent-16" title="Reference 4">(4)</a> <a href="#ref-for-dom-touchevent-17" title="Reference 5">(5)</a> <a href="#ref-for-dom-touchevent-18" title="Reference 6">(6)</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-19" title="§ 5.6 The touchend event">§ 5.6 The touchend event</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-20" title="§ 5.8 The touchcancel event">§ 5.8 The touchcancel event</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-toucheventinit" aria-label="Links in this document to definition: TouchEventInit">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-toucheventinit" aria-label="Permalink for definition: TouchEventInit. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-toucheventinit-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dom-toucheventinit-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-toucheventinit-touches" aria-label="Links in this document to definition: touches">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-toucheventinit-touches" aria-label="Permalink for definition: touches. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-toucheventinit-targettouches" aria-label="Links in this document to definition: targetTouches">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-toucheventinit-targettouches" aria-label="Permalink for definition: targetTouches. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-toucheventinit-changedtouches" aria-label="Links in this document to definition: changedTouches">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-toucheventinit-changedtouches" aria-label="Permalink for definition: changedTouches. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-constructor" aria-label="Links in this document to definition: constructor">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-constructor" aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-touches" aria-label="Links in this document to definition: touches">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-touches" aria-label="Permalink for definition: touches. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-touches-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-touches-2" title="§ 5.6 The touchend event">§ 5.6 The touchend event</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-touches-3" title="§ 5.8 The touchcancel event">§ 5.8 The touchcancel event</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-targettouches" aria-label="Links in this document to definition: targetTouches">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-targettouches" aria-label="Permalink for definition: targetTouches. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-targettouches-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-targettouches-2" title="§ 5.6 The touchend event">§ 5.6 The touchend event</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-targettouches-3" title="§ 5.8 The touchcancel event">§ 5.8 The touchcancel event</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-changedtouches" aria-label="Links in this document to definition: changedTouches">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-changedtouches" aria-label="Permalink for definition: changedTouches. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-changedtouches-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-changedtouches-2" title="§ 5.6 The touchend event">§ 5.6 The touchend event</a> 
    </li><li>
      <a href="#ref-for-dom-touchevent-changedtouches-3" title="§ 5.8 The touchcancel event">§ 5.8 The touchcancel event</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-altkey" aria-label="Links in this document to definition: altKey">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-altkey" aria-label="Permalink for definition: altKey. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-altkey-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-metakey" aria-label="Links in this document to definition: metaKey">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-metakey" aria-label="Permalink for definition: metaKey. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-metakey-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-ctrlkey" aria-label="Links in this document to definition: ctrlKey">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-ctrlkey" aria-label="Permalink for definition: ctrlKey. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-ctrlkey-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-shiftkey" aria-label="Links in this document to definition: shiftKey">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-shiftkey" aria-label="Permalink for definition: shiftKey. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-shiftkey-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-touchevent-getmodifierstate" aria-label="Links in this document to definition: getModifierState">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-touchevent-getmodifierstate" aria-label="Permalink for definition: getModifierState. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1318316452">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-touchevent-getmodifierstate-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-touchstart" aria-label="Links in this document to definition: touchstart">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-touchstart" aria-label="Permalink for definition: touchstart. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-touchstart-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dfn-touchstart-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-touchstart-3" title="§ 5.3 List of TouchEvent types">§ 5.3 List of TouchEvent types</a> 
    </li><li>
      <a href="#ref-for-dfn-touchstart-4" title="§ 9. Interaction with Mouse Events and click">§ 9. Interaction with Mouse Events and click</a> <a href="#ref-for-dfn-touchstart-5" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-touchstart-6" title="§ 10. Glossary">§ 10. Glossary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-touchend" aria-label="Links in this document to definition: touchend">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-touchend" aria-label="Permalink for definition: touchend. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-touchend-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dfn-touchend-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-touchend-3" title="§ 5.3 List of TouchEvent types">§ 5.3 List of TouchEvent types</a> 
    </li><li>
      <a href="#ref-for-dfn-touchend-4" title="§ 9. Interaction with Mouse Events and click">§ 9. Interaction with Mouse Events and click</a> <a href="#ref-for-dfn-touchend-5" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-touchend-6" title="§ 10. Glossary">§ 10. Glossary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-touchmove" aria-label="Links in this document to definition: touchmove">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-touchmove" aria-label="Permalink for definition: touchmove. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-touchmove-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dfn-touchmove-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-touchmove-3" title="§ 5.3 List of TouchEvent types">§ 5.3 List of TouchEvent types</a> 
    </li><li>
      <a href="#ref-for-dfn-touchmove-4" title="§ 5.7 The touchmove event">§ 5.7 The touchmove event</a> <a href="#ref-for-dfn-touchmove-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-touchmove-6" title="Reference 3">(3)</a> <a href="#ref-for-dfn-touchmove-7" title="Reference 4">(4)</a> <a href="#ref-for-dfn-touchmove-8" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-touchmove-9" title="§ 9. Interaction with Mouse Events and click">§ 9. Interaction with Mouse Events and click</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-touchcancel" aria-label="Links in this document to definition: touchcancel">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-touchcancel" aria-label="Permalink for definition: touchcancel. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-touchcancel-1" title="§ 5. TouchEvent Interface">§ 5. TouchEvent Interface</a> <a href="#ref-for-dfn-touchcancel-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-touchcancel-3" title="§ 5.3 List of TouchEvent types">§ 5.3 List of TouchEvent types</a> 
    </li><li>
      <a href="#ref-for-dfn-touchcancel-4" title="§ 10. Glossary">§ 10. Glossary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unadjustedtarget" aria-label="Links in this document to definition: unadjustedTarget">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-unadjustedtarget" aria-label="Permalink for definition: unadjustedTarget. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-unadjustedtarget-1" title="§ 6. Retargeting">§ 6. Retargeting</a> <a href="#ref-for-dfn-unadjustedtarget-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-unadjustedtarget-3" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-expose-legacy-touch-event-apis" aria-label="Links in this document to definition: expose legacy touch event APIs">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-expose-legacy-touch-event-apis" aria-label="Permalink for definition: expose legacy touch event APIs. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-expose-legacy-touch-event-apis-1" title="§ 8. Extensions to the GlobalEventHandlers mixin">§ 8. Extensions to the GlobalEventHandlers mixin</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-globaleventhandlers-ontouchstart" aria-label="Links in this document to definition: ontouchstart">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-globaleventhandlers-ontouchstart" aria-label="Permalink for definition: ontouchstart. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-152255038">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-globaleventhandlers-ontouchstart-1" title="§ 8. Extensions to the GlobalEventHandlers mixin">§ 8. Extensions to the GlobalEventHandlers mixin</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-globaleventhandlers-ontouchend" aria-label="Links in this document to definition: ontouchend">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-globaleventhandlers-ontouchend" aria-label="Permalink for definition: ontouchend. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-152255038">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-globaleventhandlers-ontouchend-1" title="§ 8. Extensions to the GlobalEventHandlers mixin">§ 8. Extensions to the GlobalEventHandlers mixin</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-globaleventhandlers-ontouchmove" aria-label="Links in this document to definition: ontouchmove">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-globaleventhandlers-ontouchmove" aria-label="Permalink for definition: ontouchmove. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-152255038">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-globaleventhandlers-ontouchmove-1" title="§ 8. Extensions to the GlobalEventHandlers mixin">§ 8. Extensions to the GlobalEventHandlers mixin</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-globaleventhandlers-ontouchcancel" aria-label="Links in this document to definition: ontouchcancel">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-globaleventhandlers-ontouchcancel" aria-label="Permalink for definition: ontouchcancel. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-152255038">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-globaleventhandlers-ontouchcancel-1" title="§ 8. Extensions to the GlobalEventHandlers mixin">§ 8. Extensions to the GlobalEventHandlers mixin</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-active-touch-point" aria-label="Links in this document to definition: active touch point">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-active-touch-point" aria-label="Permalink for definition: active touch point. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-active-touch-point-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> 
    </li><li>
      <a href="#ref-for-dfn-active-touch-point-2" title="§ 5.5 The touchstart event">§ 5.5 The touchstart event</a> 
    </li><li>
      <a href="#ref-for-dfn-active-touch-point-3" title="§ 5.7 The touchmove event">§ 5.7 The touchmove event</a> <a href="#ref-for-dfn-active-touch-point-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-active-touch-point-5" title="§ 9. Interaction with Mouse Events and click">§ 9. Interaction with Mouse Events and click</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-touch-point" aria-label="Links in this document to definition: touch point">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-touch-point" aria-label="Permalink for definition: touch point. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-touch-point-1" title="§ 3. Touch Interface">§ 3. Touch Interface</a> <a href="#ref-for-dfn-touch-point-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-touch-point-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-touch-point-4" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-touch-point-5" title="§ 5.5 The touchstart event">§ 5.5 The touchstart event</a> 
    </li><li>
      <a href="#ref-for-dfn-touch-point-6" title="§ 5.6 The touchend event">§ 5.6 The touchend event</a> <a href="#ref-for-dfn-touch-point-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-touch-point-8" title="Reference 3">(3)</a> <a href="#ref-for-dfn-touch-point-9" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-touch-point-10" title="§ 5.7 The touchmove event">§ 5.7 The touchmove event</a> <a href="#ref-for-dfn-touch-point-11" title="Reference 2">(2)</a> <a href="#ref-for-dfn-touch-point-12" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-touch-point-13" title="§ 5.8 The touchcancel event">§ 5.8 The touchcancel event</a> <a href="#ref-for-dfn-touch-point-14" title="Reference 2">(2)</a> <a href="#ref-for-dfn-touch-point-15" title="Reference 3">(3)</a> <a href="#ref-for-dfn-touch-point-16" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-touch-point-17" title="§ 10. Glossary">§ 10. Glossary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-canceled-event" aria-label="Links in this document to definition: canceled event">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-canceled-event" aria-label="Permalink for definition: canceled event. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-canceled-event-1" title="§ 5.4 Cancelability of touch events">§ 5.4 Cancelability of touch events</a> 
    </li><li>
      <a href="#ref-for-dfn-canceled-event-2" title="§ 5.5 The touchstart event">§ 5.5 The touchstart event</a> 
    </li><li>
      <a href="#ref-for-dfn-canceled-event-3" title="§ 5.6 The touchend event">§ 5.6 The touchend event</a> 
    </li><li>
      <a href="#ref-for-dfn-canceled-event-4" title="§ 5.7 The touchmove event">§ 5.7 The touchmove event</a> <a href="#ref-for-dfn-canceled-event-5" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-canceled-event-6" title="§ 9. Interaction with Mouse Events and click">§ 9. Interaction with Mouse Events and click</a> <a href="#ref-for-dfn-canceled-event-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-canceled-event-8" title="Reference 3">(3)</a> <a href="#ref-for-dfn-canceled-event-9" title="Reference 4">(4)</a> 
    </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>
